import{d as D,c as i,w as e,a as n,b as r,e as t,h as L,l as k,f as a,i as b,j as c,o as u,F as x,k as C,t as p,r as v}from"./app-CQScspJV.js";import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-H8USLuKZ.js";import{_ as m}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CWTvO1CT.js";import{_ as z,a as B,b as S,c as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-C8JhjThn.js";import{_ as V}from"./CardDescription.vue_vue_type_script_setup_true_lang-BoDmBqrY.js";import{_ as g}from"./index-CyvA0Ved.js";import{_ as j,a as M,b as $,c as f,d as P,e as d}from"./TableHeader.vue_vue_type_script_setup_true_lang-CToyBq9O.js";import"./index-3yuum4Sn.js";import"./VisuallyHidden-gVgl18LK.js";import"./useForwardExpose-Vv3P2laI.js";import"./useForwardPropsEmits-DnKx72kq.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-DNvKDgj3.js";const E={class:"container mx-auto py-6"},F={class:"flex justify-between items-center mb-6"},H={class:"flex gap-2"},G={key:0,class:"flex justify-center gap-2 mt-4"},tt=D({__name:"Index",props:{announcements:{}},setup(_){const A=o=>{confirm("Are you sure you want to delete this announcement?")&&v.delete(route("admin.announcements.destroy",o))},w=o=>{v.post(route("admin.announcements.publish",o))};return(o,l)=>(u(),i(N,null,{default:e(()=>[n(t(L),{title:"Announcements"}),r("div",E,[r("div",F,[l[1]||(l[1]=r("div",null,[r("h1",{class:"text-3xl font-bold"},"Announcements"),r("p",{class:"text-muted-foreground"},"Manage global announcements for all users")],-1)),n(t(m),{"as-child":""},{default:e(()=>[n(t(k),{href:o.route("admin.announcements.create")},{default:e(()=>[...l[0]||(l[0]=[a(" Create Announcement ",-1)])]),_:1},8,["href"])]),_:1})]),n(t(z),null,{default:e(()=>[n(t(B),null,{default:e(()=>[n(t(S),null,{default:e(()=>[...l[2]||(l[2]=[a("All Announcements",-1)])]),_:1}),n(t(V),null,{default:e(()=>[...l[3]||(l[3]=[a("Global announcements visible to all students and teachers",-1)])]),_:1})]),_:1}),n(t(T),null,{default:e(()=>[n(t(j),null,{default:e(()=>[n(t(M),null,{default:e(()=>[n(t($),null,{default:e(()=>[n(t(f),null,{default:e(()=>[...l[4]||(l[4]=[a("Title",-1)])]),_:1}),n(t(f),null,{default:e(()=>[...l[5]||(l[5]=[a("Content",-1)])]),_:1}),n(t(f),null,{default:e(()=>[...l[6]||(l[6]=[a("Status",-1)])]),_:1}),n(t(f),null,{default:e(()=>[...l[7]||(l[7]=[a("Published",-1)])]),_:1}),n(t(f),null,{default:e(()=>[...l[8]||(l[8]=[a("Created",-1)])]),_:1}),n(t(f),null,{default:e(()=>[...l[9]||(l[9]=[a("Actions",-1)])]),_:1})]),_:1})]),_:1}),n(t(P),null,{default:e(()=>[(u(!0),b(x,null,C(_.announcements.data,s=>(u(),i(t($),{key:s.id},{default:e(()=>[n(t(d),{class:"font-medium"},{default:e(()=>[a(p(s.title),1)]),_:2},1024),n(t(d),{class:"max-w-md truncate"},{default:e(()=>[a(p(s.content),1)]),_:2},1024),n(t(d),null,{default:e(()=>[s.published_at?(u(),i(t(g),{key:0,variant:"success"},{default:e(()=>[...l[10]||(l[10]=[a("Published",-1)])]),_:1})):(u(),i(t(g),{key:1,variant:"secondary"},{default:e(()=>[...l[11]||(l[11]=[a("Draft",-1)])]),_:1}))]),_:2},1024),n(t(d),null,{default:e(()=>[a(p(s.published_at?new Date(s.published_at).toLocaleString():"-"),1)]),_:2},1024),n(t(d),null,{default:e(()=>[a(p(new Date(s.created_at).toLocaleDateString()),1)]),_:2},1024),n(t(d),null,{default:e(()=>[r("div",H,[s.published_at?c("",!0):(u(),i(t(m),{key:0,size:"sm",onClick:y=>w(s.id)},{default:e(()=>[...l[12]||(l[12]=[a(" Publish ",-1)])]),_:1},8,["onClick"])),n(t(m),{size:"sm",variant:"outline","as-child":""},{default:e(()=>[n(t(k),{href:o.route("admin.announcements.edit",s.id)},{default:e(()=>[...l[13]||(l[13]=[a(" Edit ",-1)])]),_:1},8,["href"])]),_:2},1024),n(t(m),{size:"sm",variant:"destructive",onClick:y=>A(s.id)},{default:e(()=>[...l[14]||(l[14]=[a(" Delete ",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),_.announcements.data.length===0?(u(),i(t($),{key:0},{default:e(()=>[n(t(d),{colspan:"6",class:"text-center text-muted-foreground"},{default:e(()=>[...l[15]||(l[15]=[a(" No announcements found. Create your first announcement! ",-1)])]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1}),_.announcements.last_page>1?(u(),b("div",G,[(u(!0),b(x,null,C(_.announcements.links,s=>(u(),i(t(m),{key:s.label,variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:y=>s.url&&t(v).visit(s.url),innerHTML:s.label},null,8,["variant","disabled","onClick","innerHTML"]))),128))])):c("",!0)]),_:1})]),_:1})])]),_:1}))}});export{tt as default};
