import{d as z,u as U,q as B,s as N,c as y,w as o,a as l,b as r,e,h as E,f as a,g as F,i as d,j as c,o as u,F as $,k as b,t as i,n as g,r as M}from"./app-CPometxZ.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-Con15RXd.js";import{_ as w}from"./index--RngV4lN.js";import{_ as T,a as j,b as q,c as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-B6RDaEAy.js";import{_ as G}from"./CardDescription.vue_vue_type_script_setup_true_lang-CDLoamIJ.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-DpSg0-H9.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-CEEAJ-Dj.js";import{_ as I}from"./Textarea.vue_vue_type_script_setup_true_lang-BpFg4GN9.js";import{_ as v,a as x,b as V,c as k,d as p}from"./SelectValue.vue_vue_type_script_setup_true_lang-BoFWYUF2.js";import"./index-D7U6bHka.js";import"./VisuallyHidden-CZSwHrLu.js";import"./useForwardExpose-BovC4Je4.js";import"./useForwardPropsEmits-CLk4KNd3.js";import"./users-D4iBQ59P.js";import"./check-BghVuOGY.js";import"./useFormControl-Bvg3F142.js";const J={class:"container mx-auto py-6 max-w-3xl"},K={class:"space-y-2"},O={key:0,class:"space-y-2"},P={key:0,class:"text-sm text-red-500"},Q={key:1,class:"space-y-4"},R={class:"grid grid-cols-2 gap-4"},W={class:"space-y-2"},X={key:0,class:"text-sm text-muted-foreground"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-red-500"},h={class:"space-y-2"},ee={key:0,class:"text-sm text-red-500"},te={class:"flex gap-3"},xe=z({__name:"Create",props:{modules:{},classes:{}},setup(_){const S=_,s=U({title:"",content:"",scope:"module",module_id:null,year:null,specialization:null,track:null,semester:null,publish_now:!0}),C=B(()=>!s.year||!s.semester?null:S.classes.find(m=>m.year===s.year&&m.semester===s.semester&&m.specialization===s.specialization&&m.track===s.track));N(()=>s.scope,m=>{s.module_id=null,s.year=null,s.specialization=null,s.track=null,s.semester=null});const A=()=>{s.post("/teacher/announcements")};return(m,t)=>(u(),y(D,null,{default:o(()=>[l(e(E),{title:"Create Announcement"}),r("div",J,[t[17]||(t[17]=r("div",{class:"mb-6"},[r("h1",{class:"text-3xl font-bold"},"Create Announcement"),r("p",{class:"text-muted-foreground"},"Send an announcement to your students")],-1)),l(e(T),null,{default:o(()=>[l(e(j),null,{default:o(()=>[l(e(q),null,{default:o(()=>[...t[6]||(t[6]=[a("Announcement Details",-1)])]),_:1}),l(e(G),null,{default:o(()=>[...t[7]||(t[7]=[a("Choose the scope and content of your announcement",-1)])]),_:1})]),_:1}),l(e(L),null,{default:o(()=>[r("form",{onSubmit:F(A,["prevent"]),class:"space-y-6"},[r("div",K,[l(e(f),{for:"scope"},{default:o(()=>[...t[8]||(t[8]=[a("Announcement Scope",-1)])]),_:1}),l(e(v),{modelValue:e(s).scope,"onUpdate:modelValue":t[0]||(t[0]=n=>e(s).scope=n)},{default:o(()=>[l(e(x),null,{default:o(()=>[l(e(V),{placeholder:"Select scope"})]),_:1}),l(e(k),null,{default:o(()=>[l(e(p),{value:"module"},{default:o(()=>[...t[9]||(t[9]=[a("Module - All students in this module",-1)])]),_:1}),l(e(p),{value:"class"},{default:o(()=>[...t[10]||(t[10]=[a("Class - All students in a specific class",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t[11]||(t[11]=r("p",{class:"text-xs text-muted-foreground"}," Choose who will receive this announcement ",-1))]),e(s).scope==="module"?(u(),d("div",O,[l(e(f),{for:"module"},{default:o(()=>[...t[12]||(t[12]=[a("Module",-1)])]),_:1}),l(e(v),{modelValue:e(s).module_id,"onUpdate:modelValue":t[1]||(t[1]=n=>e(s).module_id=n)},{default:o(()=>[l(e(x),null,{default:o(()=>[l(e(V),{placeholder:"Select module"})]),_:1}),l(e(k),null,{default:o(()=>[(u(!0),d($,null,b(_.modules,n=>(u(),y(e(p),{key:n.id,value:n.id},{default:o(()=>[a(i(n.code)+" - "+i(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(s).errors.module_id?(u(),d("p",P,i(e(s).errors.module_id),1)):c("",!0)])):c("",!0),e(s).scope==="class"?(u(),d("div",Q,[r("div",R,[r("div",W,[l(e(f),null,{default:o(()=>[...t[13]||(t[13]=[a("Class",-1)])]),_:1}),l(e(v),{modelValue:e(s).year,"onUpdate:modelValue":t[2]||(t[2]=n=>e(s).year=n)},{default:o(()=>[l(e(x),null,{default:o(()=>[l(e(V),{placeholder:"Select year"})]),_:1}),l(e(k),null,{default:o(()=>[(u(!0),d($,null,b(_.classes,n=>(u(),y(e(p),{key:n.name,value:n.year},{default:o(()=>[a(i(n.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),C.value?(u(),d("p",X," Selected: "+i(C.value.name),1)):c("",!0)])):c("",!0),r("div",Y,[l(e(f),{for:"title"},{default:o(()=>[...t[14]||(t[14]=[a("Title",-1)])]),_:1}),l(e(H),{id:"title",modelValue:e(s).title,"onUpdate:modelValue":t[3]||(t[3]=n=>e(s).title=n),placeholder:"Enter announcement title",class:g({"border-red-500":e(s).errors.title})},null,8,["modelValue","class"]),e(s).errors.title?(u(),d("p",Z,i(e(s).errors.title),1)):c("",!0)]),r("div",h,[l(e(f),{for:"content"},{default:o(()=>[...t[15]||(t[15]=[a("Content",-1)])]),_:1}),l(e(I),{id:"content",modelValue:e(s).content,"onUpdate:modelValue":t[4]||(t[4]=n=>e(s).content=n),placeholder:"Enter announcement content",rows:"6",class:g({"border-red-500":e(s).errors.content})},null,8,["modelValue","class"]),e(s).errors.content?(u(),d("p",ee,i(e(s).errors.content),1)):c("",!0)]),r("div",te,[l(e(w),{type:"submit",disabled:e(s).processing},{default:o(()=>[a(i(e(s).processing?"Creating...":"Create Announcement"),1)]),_:1},8,["disabled"]),l(e(w),{type:"button",variant:"outline",onClick:t[5]||(t[5]=n=>e(M).visit("/teacher/announcements"))},{default:o(()=>[...t[16]||(t[16]=[a(" Cancel ",-1)])]),_:1})])],32)]),_:1})]),_:1})])]),_:1}))}});export{xe as default};
