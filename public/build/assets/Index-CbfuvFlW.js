import{d as Y,c as Q,w as u,a as o,b as q,e as n,h as G,l as J,f as l,i as C,j as S,o as A,F as N,k as B,t as v,r as D}from"./app-iB5JroHL.js";import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-BjDdRGsn.js";import{q as g,a as x,_ as k}from"./index-X0dx6blS.js";import{_ as R,a as W,b as X,c as Z}from"./CardTitle.vue_vue_type_script_setup_true_lang-BOdCY70B.js";import{_ as ee}from"./CardDescription.vue_vue_type_script_setup_true_lang-DOygd7NC.js";import{_ as E}from"./index-Dqcqe94q.js";import{_ as te,a as ne,b as F,c as j,d as ue,e as $}from"./TableHeader.vue_vue_type_script_setup_true_lang-Di5BFEE9.js";import"./index-DDOeCoQC.js";import"./VisuallyHidden-CsxWP5mD.js";import"./useForwardExpose-DlFM9lJQ.js";import"./useForwardPropsEmits-CnK8L7VS.js";import"./users-C3V69xlN.js";const i=e=>({url:i.url(e),method:"get"});i.definition={methods:["get","head"],url:"/teacher/announcements"};i.url=e=>i.definition.url+g(e);i.get=e=>({url:i.url(e),method:"get"});i.head=e=>({url:i.url(e),method:"head"});const w=e=>({action:i.url(e),method:"get"});w.get=e=>({action:i.url(e),method:"get"});w.head=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});i.form=w;const m=e=>({url:m.url(e),method:"get"});m.definition={methods:["get","head"],url:"/teacher/announcements/create"};m.url=e=>m.definition.url+g(e);m.get=e=>({url:m.url(e),method:"get"});m.head=e=>({url:m.url(e),method:"head"});const O=e=>({action:m.url(e),method:"get"});O.get=e=>({action:m.url(e),method:"get"});O.head=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});m.form=O;const b=e=>({url:b.url(e),method:"post"});b.definition={methods:["post"],url:"/teacher/announcements"};b.url=e=>b.definition.url+g(e);b.post=e=>({url:b.url(e),method:"post"});const V=e=>({action:b.url(e),method:"post"});V.post=e=>({action:b.url(e),method:"post"});b.form=V;const a=(e,t)=>({url:a.url(e,t),method:"get"});a.definition={methods:["get","head"],url:"/teacher/announcements/{announcement}"};a.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={announcement:e}),Array.isArray(e)&&(e={announcement:e[0]}),e=x(e);const _={announcement:e.announcement};return a.definition.url.replace("{announcement}",_.announcement.toString()).replace(/\/+$/,"")+g(t)};a.get=(e,t)=>({url:a.url(e,t),method:"get"});a.head=(e,t)=>({url:a.url(e,t),method:"head"});const T=(e,t)=>({action:a.url(e,t),method:"get"});T.get=(e,t)=>({action:a.url(e,t),method:"get"});T.head=(e,t)=>({action:a.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});a.form=T;const s=(e,t)=>({url:s.url(e,t),method:"get"});s.definition={methods:["get","head"],url:"/teacher/announcements/{announcement}/edit"};s.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={announcement:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={announcement:e.id}),Array.isArray(e)&&(e={announcement:e[0]}),e=x(e);const _={announcement:typeof e.announcement=="object"?e.announcement.id:e.announcement};return s.definition.url.replace("{announcement}",_.announcement.toString()).replace(/\/+$/,"")+g(t)};s.get=(e,t)=>({url:s.url(e,t),method:"get"});s.head=(e,t)=>({url:s.url(e,t),method:"head"});const H=(e,t)=>({action:s.url(e,t),method:"get"});H.get=(e,t)=>({action:s.url(e,t),method:"get"});H.head=(e,t)=>({action:s.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});s.form=H;const c=(e,t)=>({url:c.url(e,t),method:"put"});c.definition={methods:["put","patch"],url:"/teacher/announcements/{announcement}"};c.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={announcement:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={announcement:e.id}),Array.isArray(e)&&(e={announcement:e[0]}),e=x(e);const _={announcement:typeof e.announcement=="object"?e.announcement.id:e.announcement};return c.definition.url.replace("{announcement}",_.announcement.toString()).replace(/\/+$/,"")+g(t)};c.put=(e,t)=>({url:c.url(e,t),method:"put"});c.patch=(e,t)=>({url:c.url(e,t),method:"patch"});const L=(e,t)=>({action:c.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});L.put=(e,t)=>({action:c.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});L.patch=(e,t)=>({action:c.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});c.form=L;const h=(e,t)=>({url:h.url(e,t),method:"delete"});h.definition={methods:["delete"],url:"/teacher/announcements/{announcement}"};h.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={announcement:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={announcement:e.id}),Array.isArray(e)&&(e={announcement:e[0]}),e=x(e);const _={announcement:typeof e.announcement=="object"?e.announcement.id:e.announcement};return h.definition.url.replace("{announcement}",_.announcement.toString()).replace(/\/+$/,"")+g(t)};h.delete=(e,t)=>({url:h.url(e,t),method:"delete"});const z=(e,t)=>({action:h.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});z.delete=(e,t)=>({action:h.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});h.form=z;const p=(e,t)=>({url:p.url(e,t),method:"post"});p.definition={methods:["post"],url:"/teacher/announcements/{announcement}/publish"};p.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={announcement:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={announcement:e.id}),Array.isArray(e)&&(e={announcement:e[0]}),e=x(e);const _={announcement:typeof e.announcement=="object"?e.announcement.id:e.announcement};return p.definition.url.replace("{announcement}",_.announcement.toString()).replace(/\/+$/,"")+g(t)};p.post=(e,t)=>({url:p.url(e,t),method:"post"});const U=(e,t)=>({action:p.url(e,t),method:"post"});U.post=(e,t)=>({action:p.url(e,t),method:"post"});p.form=U;const f=e=>({url:f.url(e),method:"get"});f.definition={methods:["get","head"],url:"/teacher/announcements/schedules/get"};f.url=e=>f.definition.url+g(e);f.get=e=>({url:f.url(e),method:"get"});f.head=e=>({url:f.url(e),method:"head"});const P=e=>({action:f.url(e),method:"get"});P.get=e=>({action:f.url(e),method:"get"});P.head=e=>({action:f.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});f.form=P;Object.assign(i,i),Object.assign(m,m),Object.assign(b,b),Object.assign(a,a),Object.assign(s,s),Object.assign(c,c),Object.assign(h,h),Object.assign(p,p),Object.assign(f,f);const re={class:"container mx-auto py-6"},oe={class:"flex justify-between items-center mb-6"},le={class:"flex gap-2"},de={key:0,class:"flex justify-center gap-2 mt-4"},ge=Y({__name:"Index",props:{announcements:{}},setup(e){const t=y=>y.scope==="module"&&y.module?`Module: ${y.module.code}`:y.scope==="session"&&y.schedule?`Session: ${y.schedule.module.code}`:y.scope==="class"?"Class":y.scope,_=y=>{confirm("Are you sure you want to delete this announcement?")&&D.delete(h.url({announcement:y}))},I=y=>{D.post(p.url({announcement:y}))};return(y,r)=>(A(),Q(K,null,{default:u(()=>[o(n(G),{title:"My Announcements"}),q("div",re,[q("div",oe,[r[1]||(r[1]=q("div",null,[q("h1",{class:"text-3xl font-bold"},"My Announcements"),q("p",{class:"text-muted-foreground"},"Manage announcements for your classes")],-1)),o(n(k),{"as-child":""},{default:u(()=>[o(n(J),{href:m.url()},{default:u(()=>[...r[0]||(r[0]=[l(" Create Announcement ",-1)])]),_:1},8,["href"])]),_:1})]),o(n(R),null,{default:u(()=>[o(n(W),null,{default:u(()=>[o(n(X),null,{default:u(()=>[...r[2]||(r[2]=[l("All Announcements",-1)])]),_:1}),o(n(ee),null,{default:u(()=>[...r[3]||(r[3]=[l("Your announcements sent to students",-1)])]),_:1})]),_:1}),o(n(Z),null,{default:u(()=>[o(n(te),null,{default:u(()=>[o(n(ne),null,{default:u(()=>[o(n(F),null,{default:u(()=>[o(n(j),null,{default:u(()=>[...r[4]||(r[4]=[l("Title",-1)])]),_:1}),o(n(j),null,{default:u(()=>[...r[5]||(r[5]=[l("Content",-1)])]),_:1}),o(n(j),null,{default:u(()=>[...r[6]||(r[6]=[l("Scope",-1)])]),_:1}),o(n(j),null,{default:u(()=>[...r[7]||(r[7]=[l("Status",-1)])]),_:1}),o(n(j),null,{default:u(()=>[...r[8]||(r[8]=[l("Published",-1)])]),_:1}),o(n(j),null,{default:u(()=>[...r[9]||(r[9]=[l("Actions",-1)])]),_:1})]),_:1})]),_:1}),o(n(ue),null,{default:u(()=>[(A(!0),C(N,null,B(e.announcements.data,d=>(A(),Q(n(F),{key:d.id},{default:u(()=>[o(n($),{class:"font-medium"},{default:u(()=>[l(v(d.title),1)]),_:2},1024),o(n($),{class:"max-w-md truncate"},{default:u(()=>[l(v(d.content),1)]),_:2},1024),o(n($),null,{default:u(()=>[o(n(E),{variant:"outline"},{default:u(()=>[l(v(t(d)),1)]),_:2},1024)]),_:2},1024),o(n($),null,{default:u(()=>[d.published_at?(A(),Q(n(E),{key:0,variant:"success"},{default:u(()=>[...r[10]||(r[10]=[l("Published",-1)])]),_:1})):(A(),Q(n(E),{key:1,variant:"secondary"},{default:u(()=>[...r[11]||(r[11]=[l("Draft",-1)])]),_:1}))]),_:2},1024),o(n($),null,{default:u(()=>[l(v(d.published_at?new Date(d.published_at).toLocaleString():"-"),1)]),_:2},1024),o(n($),null,{default:u(()=>[q("div",le,[d.published_at?S("",!0):(A(),Q(n(k),{key:0,size:"sm",onClick:M=>I(d.id)},{default:u(()=>[...r[12]||(r[12]=[l(" Publish ",-1)])]),_:1},8,["onClick"])),o(n(k),{size:"sm",variant:"destructive",onClick:M=>_(d.id)},{default:u(()=>[...r[13]||(r[13]=[l(" Delete ",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),e.announcements.data.length===0?(A(),Q(n(F),{key:0},{default:u(()=>[o(n($),{colspan:"6",class:"text-center text-muted-foreground"},{default:u(()=>[...r[14]||(r[14]=[l(" No announcements found. Create your first announcement! ",-1)])]),_:1})]),_:1})):S("",!0)]),_:1})]),_:1}),e.announcements.last_page>1?(A(),C("div",de,[(A(!0),C(N,null,B(e.announcements.links,d=>(A(),Q(n(k),{key:d.label,variant:d.active?"default":"outline",size:"sm",disabled:!d.url,onClick:M=>d.url&&n(D).visit(d.url),innerHTML:d.label},null,8,["variant","disabled","onClick","innerHTML"]))),128))])):S("",!0)]),_:1})]),_:1})])]),_:1}))}});export{ge as default};
