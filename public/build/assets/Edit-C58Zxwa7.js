import{d as b,p as g,q as v,u as h,c as U,w as o,a as s,b as d,e,h as C,f as i,g as E,i as u,j as f,o as n,t as c}from"./app-CfE9S6rP.js";import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-D6m1HoI-.js";import{_ as w}from"./index-BblMpro3.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-23zcEQq1.js";import{_ as l}from"./Label.vue_vue_type_script_setup_true_lang-kvM0puLo.js";import{_ as T,a as B,b as P,c as A}from"./CardTitle.vue_vue_type_script_setup_true_lang-CJFOXqjd.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-CBMZnw4S.js";import{_ as F}from"./Checkbox.vue_vue_type_script_setup_true_lang-CzhjkVqq.js";import{A as S}from"./arrow-left-W2Sxq0_A.js";import"./index-BFz42vOe.js";import"./VisuallyHidden-CmL6nt4H.js";import"./useForwardExpose-BmRZXmdE.js";import"./useForwardPropsEmits-CVb6W0OG.js";import"./users-DDvhK44a.js";import"./useFormControl-qR-A9o-y.js";import"./check-Cf6YYcKB.js";const j={class:"container mx-auto max-w-2xl py-8"},D={class:"mb-6"},L={class:"space-y-2"},M={key:0,class:"text-sm text-destructive"},z={class:"space-y-2"},G={key:0,class:"text-sm text-destructive"},H={class:"space-y-2"},I={key:0,class:"text-sm text-destructive"},J={class:"space-y-2"},K={key:0,class:"flex items-center space-x-2"},O={class:"flex gap-4"},me=b({__name:"Edit",props:{teacher:{}},setup(k){const m=k,y=g(),x=v(()=>y.props.auth?.user?.email),V=v(()=>x.value==="y.adil8120@uca.ac.ma"),t=h({name:m.teacher.name,email:m.teacher.email,password:"",password_confirmation:"",make_admin:m.teacher.role==="admin"}),$=()=>{t.put(route("admin.teachers.update",m.teacher.id))};return(p,a)=>(n(),U(N,null,{default:o(()=>[s(e(C),{title:"Edit Teacher"}),d("div",j,[d("div",D,[s(e(w),{variant:"ghost",onClick:a[0]||(a[0]=r=>p.$inertia.visit(p.route("admin.teachers.index")))},{default:o(()=>[s(e(S),{class:"mr-2 h-4 w-4"}),a[7]||(a[7]=i(" Back to Teachers ",-1))]),_:1})]),s(e(T),null,{default:o(()=>[s(e(B),null,{default:o(()=>[s(e(P),null,{default:o(()=>[...a[8]||(a[8]=[i("Edit Teacher",-1)])]),_:1}),s(e(q),null,{default:o(()=>[...a[9]||(a[9]=[i("Update teacher information",-1)])]),_:1})]),_:1}),s(e(A),null,{default:o(()=>[d("form",{onSubmit:E($,["prevent"]),class:"space-y-6"},[d("div",L,[s(e(l),{for:"name"},{default:o(()=>[...a[10]||(a[10]=[i("Full Name",-1)])]),_:1}),s(e(_),{id:"name",modelValue:e(t).name,"onUpdate:modelValue":a[1]||(a[1]=r=>e(t).name=r),type:"text",required:"",placeholder:"Enter teacher's full name"},null,8,["modelValue"]),e(t).errors.name?(n(),u("span",M,c(e(t).errors.name),1)):f("",!0)]),d("div",z,[s(e(l),{for:"email"},{default:o(()=>[...a[11]||(a[11]=[i("Email",-1)])]),_:1}),s(e(_),{id:"email",modelValue:e(t).email,"onUpdate:modelValue":a[2]||(a[2]=r=>e(t).email=r),type:"email",required:"",placeholder:"teacher@uca.ac.ma"},null,8,["modelValue"]),e(t).errors.email?(n(),u("span",G,c(e(t).errors.email),1)):f("",!0)]),d("div",H,[s(e(l),{for:"password"},{default:o(()=>[...a[12]||(a[12]=[i("New Password (leave blank to keep current)",-1)])]),_:1}),s(e(_),{id:"password",modelValue:e(t).password,"onUpdate:modelValue":a[3]||(a[3]=r=>e(t).password=r),type:"password",placeholder:"Enter new password"},null,8,["modelValue"]),e(t).errors.password?(n(),u("span",I,c(e(t).errors.password),1)):f("",!0)]),d("div",J,[s(e(l),{for:"password_confirmation"},{default:o(()=>[...a[13]||(a[13]=[i("Confirm New Password",-1)])]),_:1}),s(e(_),{id:"password_confirmation",modelValue:e(t).password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=r=>e(t).password_confirmation=r),type:"password",placeholder:"Confirm new password"},null,8,["modelValue"])]),V.value?(n(),u("div",K,[s(e(F),{id:"make_admin",checked:e(t).make_admin,"onUpdate:checked":a[5]||(a[5]=r=>e(t).make_admin=r)},null,8,["checked"]),s(e(l),{for:"make_admin",class:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},{default:o(()=>[...a[14]||(a[14]=[i(" Promote to Admin ",-1)])]),_:1})])):f("",!0),d("div",O,[s(e(w),{type:"submit",disabled:e(t).processing},{default:o(()=>[i(c(e(t).processing?"Updating...":"Update Teacher"),1)]),_:1},8,["disabled"]),s(e(w),{type:"button",variant:"outline",onClick:a[6]||(a[6]=r=>p.$inertia.visit(p.route("admin.teachers.index")))},{default:o(()=>[...a[15]||(a[15]=[i(" Cancel ",-1)])]),_:1})])],32)]),_:1})]),_:1})])]),_:1}))}});export{me as default};
