import{d as M,c as r,w as t,a as s,b as d,e,h as S,l as L,f as a,i as c,j as b,o,F as x,k as C,t as _,r as y}from"./app-CQScspJV.js";import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-H8USLuKZ.js";import{_ as p}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CWTvO1CT.js";import{_ as B,a as D,b as T,c as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-C8JhjThn.js";import{_ as j}from"./CardDescription.vue_vue_type_script_setup_true_lang-BoDmBqrY.js";import{_ as $}from"./index-CyvA0Ved.js";import{_ as z,a as P,b as v,c as f,d as F,e as i}from"./TableHeader.vue_vue_type_script_setup_true_lang-CToyBq9O.js";import"./index-3yuum4Sn.js";import"./VisuallyHidden-gVgl18LK.js";import"./useForwardExpose-Vv3P2laI.js";import"./useForwardPropsEmits-DnKx72kq.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-DNvKDgj3.js";const H={class:"container mx-auto py-6"},E={class:"flex justify-between items-center mb-6"},I={class:"flex gap-2"},Y={key:0,class:"flex justify-center gap-2 mt-4"},te=M({__name:"Index",props:{announcements:{}},setup(m){const g=u=>u.scope==="module"&&u.module?`Module: ${u.module.code}`:u.scope==="session"&&u.schedule?`Session: ${u.schedule.module.code}`:u.scope==="class"?"Class":u.scope,A=u=>{confirm("Are you sure you want to delete this announcement?")&&y.delete(route("teacher.announcements.destroy",u))},w=u=>{y.post(route("teacher.announcements.publish",u))};return(u,l)=>(o(),r(N,null,{default:t(()=>[s(e(S),{title:"My Announcements"}),d("div",H,[d("div",E,[l[1]||(l[1]=d("div",null,[d("h1",{class:"text-3xl font-bold"},"My Announcements"),d("p",{class:"text-muted-foreground"},"Manage announcements for your classes")],-1)),s(e(p),{"as-child":""},{default:t(()=>[s(e(L),{href:u.route("teacher.announcements.create")},{default:t(()=>[...l[0]||(l[0]=[a(" Create Announcement ",-1)])]),_:1},8,["href"])]),_:1})]),s(e(B),null,{default:t(()=>[s(e(D),null,{default:t(()=>[s(e(T),null,{default:t(()=>[...l[2]||(l[2]=[a("All Announcements",-1)])]),_:1}),s(e(j),null,{default:t(()=>[...l[3]||(l[3]=[a("Your announcements sent to students",-1)])]),_:1})]),_:1}),s(e(V),null,{default:t(()=>[s(e(z),null,{default:t(()=>[s(e(P),null,{default:t(()=>[s(e(v),null,{default:t(()=>[s(e(f),null,{default:t(()=>[...l[4]||(l[4]=[a("Title",-1)])]),_:1}),s(e(f),null,{default:t(()=>[...l[5]||(l[5]=[a("Content",-1)])]),_:1}),s(e(f),null,{default:t(()=>[...l[6]||(l[6]=[a("Scope",-1)])]),_:1}),s(e(f),null,{default:t(()=>[...l[7]||(l[7]=[a("Status",-1)])]),_:1}),s(e(f),null,{default:t(()=>[...l[8]||(l[8]=[a("Published",-1)])]),_:1}),s(e(f),null,{default:t(()=>[...l[9]||(l[9]=[a("Actions",-1)])]),_:1})]),_:1})]),_:1}),s(e(F),null,{default:t(()=>[(o(!0),c(x,null,C(m.announcements.data,n=>(o(),r(e(v),{key:n.id},{default:t(()=>[s(e(i),{class:"font-medium"},{default:t(()=>[a(_(n.title),1)]),_:2},1024),s(e(i),{class:"max-w-md truncate"},{default:t(()=>[a(_(n.content),1)]),_:2},1024),s(e(i),null,{default:t(()=>[s(e($),{variant:"outline"},{default:t(()=>[a(_(g(n)),1)]),_:2},1024)]),_:2},1024),s(e(i),null,{default:t(()=>[n.published_at?(o(),r(e($),{key:0,variant:"success"},{default:t(()=>[...l[10]||(l[10]=[a("Published",-1)])]),_:1})):(o(),r(e($),{key:1,variant:"secondary"},{default:t(()=>[...l[11]||(l[11]=[a("Draft",-1)])]),_:1}))]),_:2},1024),s(e(i),null,{default:t(()=>[a(_(n.published_at?new Date(n.published_at).toLocaleString():"-"),1)]),_:2},1024),s(e(i),null,{default:t(()=>[d("div",I,[n.published_at?b("",!0):(o(),r(e(p),{key:0,size:"sm",onClick:k=>w(n.id)},{default:t(()=>[...l[12]||(l[12]=[a(" Publish ",-1)])]),_:1},8,["onClick"])),s(e(p),{size:"sm",variant:"destructive",onClick:k=>A(n.id)},{default:t(()=>[...l[13]||(l[13]=[a(" Delete ",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),m.announcements.data.length===0?(o(),r(e(v),{key:0},{default:t(()=>[s(e(i),{colspan:"6",class:"text-center text-muted-foreground"},{default:t(()=>[...l[14]||(l[14]=[a(" No announcements found. Create your first announcement! ",-1)])]),_:1})]),_:1})):b("",!0)]),_:1})]),_:1}),m.announcements.last_page>1?(o(),c("div",Y,[(o(!0),c(x,null,C(m.announcements.links,n=>(o(),r(e(p),{key:n.label,variant:n.active?"default":"outline",size:"sm",disabled:!n.url,onClick:k=>n.url&&e(y).visit(n.url),innerHTML:n.label},null,8,["variant","disabled","onClick","innerHTML"]))),128))])):b("",!0)]),_:1})]),_:1})])]),_:1}))}});export{te as default};
