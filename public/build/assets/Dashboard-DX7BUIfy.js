import{d as D,c as g,w as s,a as l,b as n,e,h as L,j as y,t as d,f as a,i as r,o as u,n as p,r as N,F as S,k}from"./app-CQScspJV.js";import{_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-H8USLuKZ.js";import{_ as f,a as m,b as c,c as x}from"./CardTitle.vue_vue_type_script_setup_true_lang-C8JhjThn.js";import{_ as w}from"./CardDescription.vue_vue_type_script_setup_true_lang-BoDmBqrY.js";import{_ as j}from"./index-CyvA0Ved.js";import{_ as $,a as B,b as A,c as b,d as C,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-CToyBq9O.js";import{F as V}from"./file-text-BZvPoXgn.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CWTvO1CT.js";import"./index-3yuum4Sn.js";import"./VisuallyHidden-gVgl18LK.js";import"./useForwardExpose-Vv3P2laI.js";import"./useForwardPropsEmits-DnKx72kq.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-DNvKDgj3.js";const F={class:"py-12"},P={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},z={class:"mb-6"},E={class:"text-3xl font-bold"},Y={class:"text-muted-foreground"},H={key:0},J={class:"mb-6 grid gap-4 md:grid-cols-2 lg:grid-cols-5"},K={class:"text-2xl font-bold"},O={class:"text-2xl font-bold text-green-600"},W={class:"text-2xl font-bold text-red-600"},q={class:"text-2xl font-bold text-yellow-600"},G={class:"mb-6"},I={class:"mb-6 grid gap-4 md:grid-cols-2"},Q={class:"space-y-3"},U={class:"flex justify-between items-center"},X={class:"text-2xl font-bold"},Z={class:"flex justify-between items-center"},h={class:"text-xl font-semibold text-green-600"},tt={class:"flex justify-between items-center"},et={class:"text-xl font-semibold text-red-600"},st={key:0,class:"flex justify-between items-center"},lt={class:"text-xl font-semibold text-yellow-600"},nt={class:"pt-3 border-t"},at={class:"flex justify-between items-center"},dt={class:"space-y-3"},it={class:"flex justify-between items-center"},ot={class:"text-2xl font-bold"},ut={class:"flex justify-between items-center"},rt={class:"text-xl font-semibold text-green-600"},ft={class:"flex justify-between items-center"},mt={class:"text-xl font-semibold text-red-600"},ct={key:0,class:"flex justify-between items-center"},xt={class:"text-xl font-semibold text-yellow-600"},bt={class:"pt-3 border-t"},_t={class:"flex justify-between items-center"},gt={class:"space-y-4"},yt={class:"flex items-start justify-between mb-2"},wt={class:"font-semibold text-lg"},vt={class:"text-muted-foreground mb-2"},pt={class:"flex items-center justify-between text-sm text-muted-foreground"},St={class:"space-y-4"},kt={class:"flex items-start justify-between mb-2"},jt={class:"flex-1"},At={class:"font-semibold text-lg"},$t={key:0,class:"text-sm text-muted-foreground mt-1"},Bt={class:"flex items-center gap-4 text-sm text-muted-foreground mb-3"},Ct={class:"flex items-center gap-1"},Mt={class:"flex items-center justify-between"},Tt={class:"text-sm text-muted-foreground"},Dt=["href"],Lt={key:1,class:"py-8 text-center text-muted-foreground"},Nt={class:"font-medium"},Rt={class:"text-sm text-muted-foreground"},Vt={key:1,class:"py-8 text-center text-muted-foreground"},Ut=D({__name:"Dashboard",props:{student:{},statistics:{},s1Statistics:{},s2Statistics:{},attendanceByModule:{},recentAttendances:{},announcements:{},resources:{}},setup(i){const M=v=>{switch(v){case"present":return"bg-green-500";case"absent":return"bg-red-500";case"late":return"bg-yellow-500";case"excused":return"bg-blue-500";default:return"bg-gray-500"}},T=v=>{switch(v){case"present":return"Present";case"absent":return"Absent";case"late":return"Late";case"excused":return"Excused";default:return v}};return(v,t)=>(u(),g(R,null,{default:s(()=>[l(e(L),{title:"Student Dashboard"}),n("div",F,[n("div",P,[n("div",z,[n("h1",E,"Welcome, "+d(i.student.first_name)+" "+d(i.student.last_name),1),n("p",Y,[a(d(i.student.year_name)+" - "+d(i.student.specialization_name)+" ",1),i.student.track_name?(u(),r("span",H," ("+d(i.student.track_name)+")",1)):y("",!0)])]),n("div",J,[l(e(f),null,{default:s(()=>[l(e(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[l(e(c),{class:"text-sm font-medium"},{default:s(()=>[...t[1]||(t[1]=[a("Total Sessions",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[n("div",K,d(i.statistics.total_sessions),1),t[2]||(t[2]=n("p",{class:"text-xs text-muted-foreground mt-1"},"All recorded sessions",-1))]),_:1})]),_:1}),l(e(f),null,{default:s(()=>[l(e(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[l(e(c),{class:"text-sm font-medium"},{default:s(()=>[...t[3]||(t[3]=[a("Present",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[n("div",O,d(i.statistics.present),1),t[4]||(t[4]=n("p",{class:"text-xs text-muted-foreground mt-1"},"Times attended",-1))]),_:1})]),_:1}),l(e(f),null,{default:s(()=>[l(e(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[l(e(c),{class:"text-sm font-medium"},{default:s(()=>[...t[5]||(t[5]=[a("Absent",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[n("div",W,d(i.statistics.absent),1),t[6]||(t[6]=n("p",{class:"text-xs text-muted-foreground mt-1"},"Times missed",-1))]),_:1})]),_:1}),i.statistics.late>0?(u(),g(e(f),{key:0},{default:s(()=>[l(e(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[l(e(c),{class:"text-sm font-medium"},{default:s(()=>[...t[7]||(t[7]=[a("Late",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[n("div",q,d(i.statistics.late),1),t[8]||(t[8]=n("p",{class:"text-xs text-muted-foreground mt-1"},"Times late",-1))]),_:1})]),_:1})):y("",!0),l(e(f),null,{default:s(()=>[l(e(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[l(e(c),{class:"text-sm font-medium"},{default:s(()=>[...t[9]||(t[9]=[a("Attendance Rate",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[n("div",{class:p(["text-2xl font-bold",{"text-green-600":i.statistics.attendance_percentage>=80,"text-yellow-600":i.statistics.attendance_percentage>=60&&i.statistics.attendance_percentage<80,"text-red-600":i.statistics.attendance_percentage<60}])},d(i.statistics.attendance_percentage)+"% ",3),t[10]||(t[10]=n("p",{class:"text-xs text-muted-foreground mt-1"},"Overall rate",-1))]),_:1})]),_:1})]),n("div",G,[l(e(f),{class:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 cursor-pointer hover:shadow-lg transition-shadow",onClick:t[0]||(t[0]=o=>e(N).visit("/student/justifications"))},{default:s(()=>[l(e(m),null,{default:s(()=>[l(e(c),{class:"flex items-center gap-2"},{default:s(()=>[l(e(V),{class:"h-5 w-5"}),t[11]||(t[11]=a(" My Justifications ",-1))]),_:1}),l(e(w),null,{default:s(()=>[...t[12]||(t[12]=[a("Submit justifications for your absences",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[...t[13]||(t[13]=[n("p",{class:"text-sm text-muted-foreground"},"Click to view and submit absence justifications",-1)])]),_:1})]),_:1})]),n("div",I,[l(e(f),null,{default:s(()=>[l(e(m),null,{default:s(()=>[l(e(c),null,{default:s(()=>[...t[14]||(t[14]=[a("Semester 1 Statistics",-1)])]),_:1}),l(e(w),null,{default:s(()=>[...t[15]||(t[15]=[a("Your attendance record for first semester",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[n("div",Q,[n("div",U,[t[16]||(t[16]=n("span",{class:"text-sm font-medium"},"Total Sessions:",-1)),n("span",X,d(i.s1Statistics.total_sessions),1)]),n("div",Z,[t[17]||(t[17]=n("span",{class:"text-sm font-medium"},"Present:",-1)),n("span",h,d(i.s1Statistics.present),1)]),n("div",tt,[t[18]||(t[18]=n("span",{class:"text-sm font-medium"},"Absent:",-1)),n("span",et,d(i.s1Statistics.absent),1)]),i.s1Statistics.late>0?(u(),r("div",st,[t[19]||(t[19]=n("span",{class:"text-sm font-medium"},"Late:",-1)),n("span",lt,d(i.s1Statistics.late),1)])):y("",!0),n("div",nt,[n("div",at,[t[20]||(t[20]=n("span",{class:"text-sm font-medium"},"Attendance Rate:",-1)),n("span",{class:p(["text-2xl font-bold",{"text-green-600":i.s1Statistics.attendance_percentage>=80,"text-yellow-600":i.s1Statistics.attendance_percentage>=60&&i.s1Statistics.attendance_percentage<80,"text-red-600":i.s1Statistics.attendance_percentage<60}])},d(i.s1Statistics.attendance_percentage)+"% ",3)])])])]),_:1})]),_:1}),l(e(f),null,{default:s(()=>[l(e(m),null,{default:s(()=>[l(e(c),null,{default:s(()=>[...t[21]||(t[21]=[a("Semester 2 Statistics",-1)])]),_:1}),l(e(w),null,{default:s(()=>[...t[22]||(t[22]=[a("Your attendance record for second semester",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[n("div",dt,[n("div",it,[t[23]||(t[23]=n("span",{class:"text-sm font-medium"},"Total Sessions:",-1)),n("span",ot,d(i.s2Statistics.total_sessions),1)]),n("div",ut,[t[24]||(t[24]=n("span",{class:"text-sm font-medium"},"Present:",-1)),n("span",rt,d(i.s2Statistics.present),1)]),n("div",ft,[t[25]||(t[25]=n("span",{class:"text-sm font-medium"},"Absent:",-1)),n("span",mt,d(i.s2Statistics.absent),1)]),i.s2Statistics.late>0?(u(),r("div",ct,[t[26]||(t[26]=n("span",{class:"text-sm font-medium"},"Late:",-1)),n("span",xt,d(i.s2Statistics.late),1)])):y("",!0),n("div",bt,[n("div",_t,[t[27]||(t[27]=n("span",{class:"text-sm font-medium"},"Attendance Rate:",-1)),n("span",{class:p(["text-2xl font-bold",{"text-green-600":i.s2Statistics.attendance_percentage>=80,"text-yellow-600":i.s2Statistics.attendance_percentage>=60&&i.s2Statistics.attendance_percentage<80,"text-red-600":i.s2Statistics.attendance_percentage<60}])},d(i.s2Statistics.attendance_percentage)+"% ",3)])])])]),_:1})]),_:1})]),i.announcements.length>0?(u(),g(e(f),{key:0,class:"mb-6"},{default:s(()=>[l(e(m),null,{default:s(()=>[l(e(c),null,{default:s(()=>[...t[28]||(t[28]=[a("Announcements",-1)])]),_:1}),l(e(w),null,{default:s(()=>[...t[29]||(t[29]=[a("Recent announcements from your teachers and administration",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[n("div",gt,[(u(!0),r(S,null,k(i.announcements,o=>(u(),r("div",{key:o.id,class:"p-4 border rounded-lg hover:bg-accent/50 transition-colors"},[n("div",yt,[n("h3",wt,d(o.title),1),l(e(j),{variant:"outline"},{default:s(()=>[a(d(o.scope_label),1)]),_:2},1024)]),n("p",vt,d(o.content),1),n("div",pt,[n("span",null,"By "+d(o.author),1),n("span",null,d(new Date(o.published_at).toLocaleDateString()),1)])]))),128))])]),_:1})]),_:1})):y("",!0),i.resources.length>0?(u(),g(e(f),{key:1,class:"mb-6"},{default:s(()=>[l(e(m),null,{default:s(()=>[l(e(c),null,{default:s(()=>[...t[30]||(t[30]=[a("Shared Resources",-1)])]),_:1}),l(e(w),null,{default:s(()=>[...t[31]||(t[31]=[a("Files and materials shared by your teachers",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[n("div",St,[(u(!0),r(S,null,k(i.resources,o=>(u(),r("div",{key:o.id,class:"p-4 border rounded-lg hover:bg-accent/50 transition-colors"},[n("div",kt,[n("div",jt,[n("h3",At,d(o.title),1),o.description?(u(),r("p",$t,d(o.description),1)):y("",!0)]),l(e(j),{variant:"outline"},{default:s(()=>[a(d(o.scope_label),1)]),_:2},1024)]),n("div",Bt,[n("span",Ct,[t[32]||(t[32]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)),a(" "+d(o.file_name),1)]),n("span",null,d(o.file_size)+" KB",1)]),n("div",Mt,[n("div",Tt,[n("span",null,"By "+d(o.author),1),t[33]||(t[33]=n("span",{class:"mx-2"},"â€¢",-1)),n("span",null,d(new Date(o.published_at).toLocaleDateString()),1)]),n("a",{href:`/student/resources/${o.id}/download`,class:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors"},[...t[34]||(t[34]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),a(" Download ",-1)])],8,Dt)])]))),128))])]),_:1})]),_:1})):y("",!0),l(e(f),{class:"mb-6"},{default:s(()=>[l(e(m),null,{default:s(()=>[l(e(c),null,{default:s(()=>[...t[35]||(t[35]=[a("Attendance by Module",-1)])]),_:1}),l(e(w),null,{default:s(()=>[...t[36]||(t[36]=[a("View your attendance statistics for each module",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[i.attendanceByModule.length>0?(u(),g(e($),{key:0},{default:s(()=>[l(e(B),null,{default:s(()=>[l(e(A),null,{default:s(()=>[l(e(b),null,{default:s(()=>[...t[37]||(t[37]=[a("Module Code",-1)])]),_:1}),l(e(b),null,{default:s(()=>[...t[38]||(t[38]=[a("Module Name",-1)])]),_:1}),l(e(b),{class:"text-center"},{default:s(()=>[...t[39]||(t[39]=[a("Total Sessions",-1)])]),_:1}),l(e(b),{class:"text-center"},{default:s(()=>[...t[40]||(t[40]=[a("Present",-1)])]),_:1}),l(e(b),{class:"text-center"},{default:s(()=>[...t[41]||(t[41]=[a("Absent",-1)])]),_:1}),l(e(b),{class:"text-center"},{default:s(()=>[...t[42]||(t[42]=[a("Late",-1)])]),_:1}),l(e(b),{class:"text-center"},{default:s(()=>[...t[43]||(t[43]=[a("Excused",-1)])]),_:1}),l(e(b),{class:"text-center"},{default:s(()=>[...t[44]||(t[44]=[a("Attendance Rate",-1)])]),_:1})]),_:1})]),_:1}),l(e(C),null,{default:s(()=>[(u(!0),r(S,null,k(i.attendanceByModule,o=>(u(),g(e(A),{key:o.module_code},{default:s(()=>[l(e(_),{class:"font-medium"},{default:s(()=>[a(d(o.module_code),1)]),_:2},1024),l(e(_),null,{default:s(()=>[a(d(o.module_name),1)]),_:2},1024),l(e(_),{class:"text-center"},{default:s(()=>[a(d(o.total_sessions),1)]),_:2},1024),l(e(_),{class:"text-center text-green-600"},{default:s(()=>[a(d(o.present),1)]),_:2},1024),l(e(_),{class:"text-center text-red-600"},{default:s(()=>[a(d(o.absent),1)]),_:2},1024),l(e(_),{class:"text-center text-yellow-600"},{default:s(()=>[a(d(o.late),1)]),_:2},1024),l(e(_),{class:"text-center text-blue-600"},{default:s(()=>[a(d(o.excused),1)]),_:2},1024),l(e(_),{class:"text-center"},{default:s(()=>[l(e(j),{class:p({"bg-green-500":o.attendance_rate>=80,"bg-yellow-500":o.attendance_rate>=60&&o.attendance_rate<80,"bg-red-500":o.attendance_rate<60})},{default:s(()=>[a(d(o.attendance_rate)+"% ",1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(u(),r("div",Lt," No attendance records found "))]),_:1})]),_:1}),l(e(f),null,{default:s(()=>[l(e(m),null,{default:s(()=>[l(e(c),null,{default:s(()=>[...t[45]||(t[45]=[a("Recent Attendance",-1)])]),_:1}),l(e(w),null,{default:s(()=>[...t[46]||(t[46]=[a("Your most recent attendance records",-1)])]),_:1})]),_:1}),l(e(x),null,{default:s(()=>[i.recentAttendances.length>0?(u(),g(e($),{key:0},{default:s(()=>[l(e(B),null,{default:s(()=>[l(e(A),null,{default:s(()=>[l(e(b),null,{default:s(()=>[...t[47]||(t[47]=[a("Date",-1)])]),_:1}),l(e(b),null,{default:s(()=>[...t[48]||(t[48]=[a("Module",-1)])]),_:1}),l(e(b),null,{default:s(()=>[...t[49]||(t[49]=[a("Teacher",-1)])]),_:1}),l(e(b),null,{default:s(()=>[...t[50]||(t[50]=[a("Status",-1)])]),_:1})]),_:1})]),_:1}),l(e(C),null,{default:s(()=>[(u(!0),r(S,null,k(i.recentAttendances,o=>(u(),g(e(A),{key:o.id},{default:s(()=>[l(e(_),null,{default:s(()=>[a(d(o.date),1)]),_:2},1024),l(e(_),null,{default:s(()=>[n("div",Nt,d(o.module_code),1),n("div",Rt,d(o.module_name),1)]),_:2},1024),l(e(_),null,{default:s(()=>[a(d(o.teacher_name),1)]),_:2},1024),l(e(_),null,{default:s(()=>[l(e(j),{class:p(M(o.status))},{default:s(()=>[a(d(T(o.status)),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(u(),r("div",Vt," No attendance records found "))]),_:1})]),_:1})])])]),_:1}))}});export{Ut as default};
