import{d as w,u as N,q as $,s as c,c as P,w as t,a,b as u,e,h as B,f as i,g as D,i as _,j as V,o as m,F as x,k as G,t as v}from"./app-iB5JroHL.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-BjDdRGsn.js";import{_ as g}from"./index-X0dx6blS.js";import{_ as T,a as F,b as L,c as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-BOdCY70B.js";import{_ as j}from"./CardDescription.vue_vue_type_script_setup_true_lang-DOygd7NC.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-CcVhxJql.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-RTZaJV3S.js";import{_ as y,a as k,b,c as C,d as o}from"./SelectValue.vue_vue_type_script_setup_true_lang-DO0Su85m.js";import{_ as O,a as H}from"./index-0P8I7xa7.js";import{_ as p}from"./InputError.vue_vue_type_script_setup_true_lang-BqIwo3fc.js";import{i as z,u as J}from"./index-CTTFaXHh.js";import{A as K}from"./arrow-left-D0upbDY8.js";import"./index-DDOeCoQC.js";import"./VisuallyHidden-CsxWP5mD.js";import"./useForwardExpose-DlFM9lJQ.js";import"./useForwardPropsEmits-CnK8L7VS.js";import"./users-C3V69xlN.js";import"./check-nENIt2ia.js";import"./useFormControl-D6S8Nnlo.js";const Q={class:"py-12"},W={class:"max-w-3xl mx-auto sm:px-6 lg:px-8 space-y-6"},X={class:"flex items-center gap-4"},Z={key:0},h={key:1},ee={class:"flex gap-4"},Ce=w({__name:"Edit",props:{student:{}},setup(S){const d=S,s=N({name:d.student.user.name,email:d.student.user.email,year:d.student.year,specialization:d.student.specialization,track:d.student.track}),q=[{value:"GI",label:"Génie Informatique"},{value:"GRT",label:"Génie Réseaux & Télécommunications"},{value:"GInd",label:"Génie Industriel"},{value:"GM",label:"Génie Mécatronique"},{value:"GA",label:"Génie Aéronautique"},{value:"GPM",label:"Génie Procédés & Matériaux"}],A=[{value:"DEV",label:"Software Development"},{value:"AI",label:"AI & Data Engineering"}],U=$(()=>s.year&&s.year>=3),E=$(()=>s.specialization==="GI"&&s.year&&s.year>=4);c(()=>s.year,r=>{r&&r<3&&(s.specialization=null,s.track=null)}),c(()=>s.specialization,r=>{r!=="GI"&&(s.track=null)});const Y=()=>{s.put(J.url({student:d.student.id}))};return(r,l)=>(m(),P(M,null,{default:t(()=>[a(e(B),{title:"Edit Student"}),u("div",Q,[u("div",W,[u("div",X,[a(e(g),{variant:"ghost",onClick:l[0]||(l[0]=n=>r.$inertia.visit(e(z).url()))},{default:t(()=>[a(e(K),{class:"mr-2 h-4 w-4"}),l[7]||(l[7]=i(" Back ",-1))]),_:1}),l[8]||(l[8]=u("div",null,[u("h2",{class:"text-2xl font-semibold text-gray-900"},"Edit Student"),u("p",{class:"mt-1 text-sm text-gray-600"}," Update student information and academic details ")],-1))]),a(e(O),null,{default:t(()=>[a(e(H),null,{default:t(()=>[...l[9]||(l[9]=[u("strong",null,"ENSA Safi Structure:",-1),u("ul",{class:"list-disc list-inside mt-2 space-y-1"},[u("li",null,[u("strong",null,"CP1 & CP2 (Years 1-2):"),i(" Common core, no specialization")]),u("li",null,[u("strong",null,"Years 3-5:"),i(" Choose specialization (Cycle Ingénieur)")]),u("li",null,[u("strong",null,"Years 4-5 (GI only):"),i(" Choose track (Dev or AI)")])],-1)])]),_:1})]),_:1}),a(e(T),null,{default:t(()=>[a(e(F),null,{default:t(()=>[a(e(L),null,{default:t(()=>[...l[10]||(l[10]=[i("Student Information",-1)])]),_:1}),a(e(j),null,{default:t(()=>[...l[11]||(l[11]=[i("Update student details",-1)])]),_:1})]),_:1}),a(e(R),null,{default:t(()=>[u("form",{onSubmit:D(Y,["prevent"]),class:"space-y-6"},[u("div",null,[a(e(f),{for:"name"},{default:t(()=>[...l[12]||(l[12]=[i("Full Name",-1)])]),_:1}),a(e(I),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":l[1]||(l[1]=n=>e(s).name=n),type:"text",required:""},null,8,["modelValue"]),a(p,{message:e(s).errors.name},null,8,["message"])]),u("div",null,[a(e(f),{for:"email"},{default:t(()=>[...l[13]||(l[13]=[i("Email Address",-1)])]),_:1}),a(e(I),{id:"email",modelValue:e(s).email,"onUpdate:modelValue":l[2]||(l[2]=n=>e(s).email=n),type:"email",required:""},null,8,["modelValue"]),a(p,{message:e(s).errors.email},null,8,["message"])]),u("div",null,[a(e(f),{for:"year"},{default:t(()=>[...l[14]||(l[14]=[i("Academic Year",-1)])]),_:1}),a(e(y),{modelValue:e(s).year,"onUpdate:modelValue":l[3]||(l[3]=n=>e(s).year=n),required:""},{default:t(()=>[a(e(k),null,{default:t(()=>[a(e(b),{placeholder:"Select year"})]),_:1}),a(e(C),null,{default:t(()=>[a(e(o),{value:1},{default:t(()=>[...l[15]||(l[15]=[i("CP1 (1st Year - Common Core)",-1)])]),_:1}),a(e(o),{value:2},{default:t(()=>[...l[16]||(l[16]=[i("CP2 (2nd Year - Common Core)",-1)])]),_:1}),a(e(o),{value:3},{default:t(()=>[...l[17]||(l[17]=[i("3rd Year - Cycle Ingénieur",-1)])]),_:1}),a(e(o),{value:4},{default:t(()=>[...l[18]||(l[18]=[i("4th Year - Cycle Ingénieur",-1)])]),_:1}),a(e(o),{value:5},{default:t(()=>[...l[19]||(l[19]=[i("5th Year - Cycle Ingénieur",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(p,{message:e(s).errors.year},null,8,["message"])]),U.value?(m(),_("div",Z,[a(e(f),{for:"specialization"},{default:t(()=>[...l[20]||(l[20]=[i("Specialization",-1)])]),_:1}),a(e(y),{modelValue:e(s).specialization,"onUpdate:modelValue":l[4]||(l[4]=n=>e(s).specialization=n),required:""},{default:t(()=>[a(e(k),null,{default:t(()=>[a(e(b),{placeholder:"Select specialization"})]),_:1}),a(e(C),null,{default:t(()=>[(m(),_(x,null,G(q,n=>a(e(o),{key:n.value,value:n.value},{default:t(()=>[i(v(n.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),a(p,{message:e(s).errors.specialization},null,8,["message"])])):V("",!0),E.value?(m(),_("div",h,[a(e(f),{for:"track"},{default:t(()=>[...l[21]||(l[21]=[i("Track (Génie Informatique Only)",-1)])]),_:1}),a(e(y),{modelValue:e(s).track,"onUpdate:modelValue":l[5]||(l[5]=n=>e(s).track=n),required:""},{default:t(()=>[a(e(k),null,{default:t(()=>[a(e(b),{placeholder:"Select track"})]),_:1}),a(e(C),null,{default:t(()=>[(m(),_(x,null,G(A,n=>a(e(o),{key:n.value,value:n.value},{default:t(()=>[i(v(n.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),a(p,{message:e(s).errors.track},null,8,["message"])])):V("",!0),u("div",ee,[a(e(g),{type:"submit",disabled:e(s).processing},{default:t(()=>[i(v(e(s).processing?"Updating...":"Update Student"),1)]),_:1},8,["disabled"]),a(e(g),{type:"button",variant:"outline",onClick:l[6]||(l[6]=n=>r.$inertia.visit(e(z).url()))},{default:t(()=>[...l[22]||(l[22]=[i(" Cancel ",-1)])]),_:1})])],32)]),_:1})]),_:1})])])]),_:1}))}});export{Ce as default};
