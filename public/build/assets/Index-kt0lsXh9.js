import{d as D,c as i,w as t,a as n,b as r,e,h as L,l as k,f as a,i as b,j as c,o as u,F as x,k as C,t as p,r as v}from"./app-iB5JroHL.js";import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-BjDdRGsn.js";import{_ as m}from"./index-X0dx6blS.js";import{_ as z,a as B,b as S,c as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-BOdCY70B.js";import{_ as V}from"./CardDescription.vue_vue_type_script_setup_true_lang-DOygd7NC.js";import{_ as g}from"./index-Dqcqe94q.js";import{_ as j,a as M,b as $,c as f,d as P,e as d}from"./TableHeader.vue_vue_type_script_setup_true_lang-Di5BFEE9.js";import"./index-DDOeCoQC.js";import"./VisuallyHidden-CsxWP5mD.js";import"./useForwardExpose-DlFM9lJQ.js";import"./useForwardPropsEmits-CnK8L7VS.js";import"./users-C3V69xlN.js";const E={class:"container mx-auto py-6"},F={class:"flex justify-between items-center mb-6"},H={class:"flex gap-2"},G={key:0,class:"flex justify-center gap-2 mt-4"},h=D({__name:"Index",props:{announcements:{}},setup(_){const A=o=>{confirm("Are you sure you want to delete this announcement?")&&v.delete(route("admin.announcements.destroy",o))},w=o=>{v.post(route("admin.announcements.publish",o))};return(o,l)=>(u(),i(N,null,{default:t(()=>[n(e(L),{title:"Announcements"}),r("div",E,[r("div",F,[l[1]||(l[1]=r("div",null,[r("h1",{class:"text-3xl font-bold"},"Announcements"),r("p",{class:"text-muted-foreground"},"Manage global announcements for all users")],-1)),n(e(m),{"as-child":""},{default:t(()=>[n(e(k),{href:o.route("admin.announcements.create")},{default:t(()=>[...l[0]||(l[0]=[a(" Create Announcement ",-1)])]),_:1},8,["href"])]),_:1})]),n(e(z),null,{default:t(()=>[n(e(B),null,{default:t(()=>[n(e(S),null,{default:t(()=>[...l[2]||(l[2]=[a("All Announcements",-1)])]),_:1}),n(e(V),null,{default:t(()=>[...l[3]||(l[3]=[a("Global announcements visible to all students and teachers",-1)])]),_:1})]),_:1}),n(e(T),null,{default:t(()=>[n(e(j),null,{default:t(()=>[n(e(M),null,{default:t(()=>[n(e($),null,{default:t(()=>[n(e(f),null,{default:t(()=>[...l[4]||(l[4]=[a("Title",-1)])]),_:1}),n(e(f),null,{default:t(()=>[...l[5]||(l[5]=[a("Content",-1)])]),_:1}),n(e(f),null,{default:t(()=>[...l[6]||(l[6]=[a("Status",-1)])]),_:1}),n(e(f),null,{default:t(()=>[...l[7]||(l[7]=[a("Published",-1)])]),_:1}),n(e(f),null,{default:t(()=>[...l[8]||(l[8]=[a("Created",-1)])]),_:1}),n(e(f),null,{default:t(()=>[...l[9]||(l[9]=[a("Actions",-1)])]),_:1})]),_:1})]),_:1}),n(e(P),null,{default:t(()=>[(u(!0),b(x,null,C(_.announcements.data,s=>(u(),i(e($),{key:s.id},{default:t(()=>[n(e(d),{class:"font-medium"},{default:t(()=>[a(p(s.title),1)]),_:2},1024),n(e(d),{class:"max-w-md truncate"},{default:t(()=>[a(p(s.content),1)]),_:2},1024),n(e(d),null,{default:t(()=>[s.published_at?(u(),i(e(g),{key:0,variant:"success"},{default:t(()=>[...l[10]||(l[10]=[a("Published",-1)])]),_:1})):(u(),i(e(g),{key:1,variant:"secondary"},{default:t(()=>[...l[11]||(l[11]=[a("Draft",-1)])]),_:1}))]),_:2},1024),n(e(d),null,{default:t(()=>[a(p(s.published_at?new Date(s.published_at).toLocaleString():"-"),1)]),_:2},1024),n(e(d),null,{default:t(()=>[a(p(new Date(s.created_at).toLocaleDateString()),1)]),_:2},1024),n(e(d),null,{default:t(()=>[r("div",H,[s.published_at?c("",!0):(u(),i(e(m),{key:0,size:"sm",onClick:y=>w(s.id)},{default:t(()=>[...l[12]||(l[12]=[a(" Publish ",-1)])]),_:1},8,["onClick"])),n(e(m),{size:"sm",variant:"outline","as-child":""},{default:t(()=>[n(e(k),{href:o.route("admin.announcements.edit",s.id)},{default:t(()=>[...l[13]||(l[13]=[a(" Edit ",-1)])]),_:1},8,["href"])]),_:2},1024),n(e(m),{size:"sm",variant:"destructive",onClick:y=>A(s.id)},{default:t(()=>[...l[14]||(l[14]=[a(" Delete ",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),_.announcements.data.length===0?(u(),i(e($),{key:0},{default:t(()=>[n(e(d),{colspan:"6",class:"text-center text-muted-foreground"},{default:t(()=>[...l[15]||(l[15]=[a(" No announcements found. Create your first announcement! ",-1)])]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1}),_.announcements.last_page>1?(u(),b("div",G,[(u(!0),b(x,null,C(_.announcements.links,s=>(u(),i(e(m),{key:s.label,variant:s.active?"default":"outline",size:"sm",disabled:!s.url,onClick:y=>s.url&&e(v).visit(s.url),innerHTML:s.label},null,8,["variant","disabled","onClick","innerHTML"]))),128))])):c("",!0)]),_:1})]),_:1})])]),_:1}))}});export{h as default};
