import{d as A,u as N,q as V,s as x,c as P,w as s,a,b as i,e,h as Y,f as r,g as E,i as p,j as k,o as f,F as $,k as c,t as _}from"./app-nvGH1Dkh.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-CF_N0GbT.js";import{_ as G}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BHa87b-p.js";import{_ as U,a as D,b as T,c as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-DKVkS3YL.js";import{_ as F}from"./CardDescription.vue_vue_type_script_setup_true_lang-xu7KUm1i.js";import{_ as v}from"./Input.vue_vue_type_script_setup_true_lang-DZq79wqf.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-CEBsFGRU.js";import{_ as g,a as y,b as C,c as b,d as o}from"./SelectValue.vue_vue_type_script_setup_true_lang-DxDdO8Aa.js";import{_ as L,a as R}from"./index-D7Xx4ec1.js";import{_ as d}from"./InputError.vue_vue_type_script_setup_true_lang-A10L75My.js";import{i as j,s as O}from"./index-DIPtfPPN.js";import"./index-CQIPFYrP.js";import"./VisuallyHidden-DO_yOHYh.js";import"./useForwardExpose-uDNJ_ZAD.js";import"./useForwardPropsEmits-DiRTkQZX.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-B_NB_A8z.js";import"./check-oFSbS8GH.js";import"./useFormControl-_T6v6ghJ.js";const H={class:"py-12"},J={class:"max-w-3xl mx-auto sm:px-6 lg:px-8 space-y-6"},K={key:0},Q={key:1},W={class:"flex gap-4"},ye=A({__name:"Create",setup(X){const t=N({first_name:"",last_name:"",email:"",year:null,specialization:null,track:null}),I=[{value:"GI",label:"Génie Informatique"},{value:"GRT",label:"Génie Réseaux & Télécommunications"},{value:"GInd",label:"Génie Industriel"},{value:"GM",label:"Génie Mécatronique"},{value:"GA",label:"Génie Aéronautique"},{value:"GPM",label:"Génie Procédés & Matériaux"}],S=[{value:"DEV",label:"Software Development"},{value:"AI",label:"AI & Data Engineering"}],z=V(()=>t.year&&t.year>=3),q=V(()=>t.specialization==="GI"&&t.year&&t.year>=4);x(()=>t.year,u=>{u&&u<3&&(t.specialization=null,t.track=null)}),x(()=>t.specialization,u=>{u!=="GI"&&(t.track=null)});const w=()=>{t.post(O.url(),{onSuccess:()=>{t.reset()}})};return(u,l)=>(f(),P(M,null,{default:s(()=>[a(e(Y),{title:"Create Student"}),i("div",H,[i("div",J,[l[23]||(l[23]=i("div",null,[i("h2",{class:"text-2xl font-semibold text-gray-900"},"Add New Student"),i("p",{class:"mt-1 text-sm text-gray-600"}," Create a student account. Password will be auto-generated and sent via email. ")],-1)),a(e(L),null,{default:s(()=>[a(e(R),null,{default:s(()=>[...l[7]||(l[7]=[i("strong",null,"ENSA Safi Structure:",-1),i("ul",{class:"list-disc list-inside mt-2 space-y-1"},[i("li",null,[i("strong",null,"CP1 & CP2 (Years 1-2):"),r(" Common core, no specialization")]),i("li",null,[i("strong",null,"Years 3-5:"),r(" Choose specialization (Cycle Ingénieur)")]),i("li",null,[i("strong",null,"Years 4-5 (GI only):"),r(" Choose track (Dev or AI)")])],-1)])]),_:1})]),_:1}),a(e(U),null,{default:s(()=>[a(e(D),null,{default:s(()=>[a(e(T),null,{default:s(()=>[...l[8]||(l[8]=[r("Student Information",-1)])]),_:1}),a(e(F),null,{default:s(()=>[...l[9]||(l[9]=[r("Enter student details and academic information",-1)])]),_:1})]),_:1}),a(e(B),null,{default:s(()=>[i("form",{onSubmit:E(w,["prevent"]),class:"space-y-6"},[i("div",null,[a(e(m),{for:"first_name"},{default:s(()=>[...l[10]||(l[10]=[r("First Name",-1)])]),_:1}),a(e(v),{id:"first_name",modelValue:e(t).first_name,"onUpdate:modelValue":l[0]||(l[0]=n=>e(t).first_name=n),type:"text",required:"",placeholder:"e.g., Ahmed"},null,8,["modelValue"]),a(d,{message:e(t).errors.first_name},null,8,["message"])]),i("div",null,[a(e(m),{for:"last_name"},{default:s(()=>[...l[11]||(l[11]=[r("Last Name",-1)])]),_:1}),a(e(v),{id:"last_name",modelValue:e(t).last_name,"onUpdate:modelValue":l[1]||(l[1]=n=>e(t).last_name=n),type:"text",required:"",placeholder:"e.g., El Mansouri"},null,8,["modelValue"]),a(d,{message:e(t).errors.last_name},null,8,["message"])]),i("div",null,[a(e(m),{for:"email"},{default:s(()=>[...l[12]||(l[12]=[r("Email Address",-1)])]),_:1}),a(e(v),{id:"email",modelValue:e(t).email,"onUpdate:modelValue":l[2]||(l[2]=n=>e(t).email=n),type:"email",required:"",placeholder:"e.g., ahmed.elmansouri@uca.ac.ma"},null,8,["modelValue"]),a(d,{message:e(t).errors.email},null,8,["message"]),l[13]||(l[13]=i("p",{class:"text-xs text-gray-500 mt-1"}," Password will be auto-generated and sent to this email ",-1))]),i("div",null,[a(e(m),{for:"year"},{default:s(()=>[...l[14]||(l[14]=[r("Academic Year",-1)])]),_:1}),a(e(g),{modelValue:e(t).year,"onUpdate:modelValue":l[3]||(l[3]=n=>e(t).year=n),required:""},{default:s(()=>[a(e(y),null,{default:s(()=>[a(e(C),{placeholder:"Select year"})]),_:1}),a(e(b),null,{default:s(()=>[a(e(o),{value:1},{default:s(()=>[...l[15]||(l[15]=[r("CP1 (1st Year - Common Core)",-1)])]),_:1}),a(e(o),{value:2},{default:s(()=>[...l[16]||(l[16]=[r("CP2 (2nd Year - Common Core)",-1)])]),_:1}),a(e(o),{value:3},{default:s(()=>[...l[17]||(l[17]=[r("3rd Year - Cycle Ingénieur",-1)])]),_:1}),a(e(o),{value:4},{default:s(()=>[...l[18]||(l[18]=[r("4th Year - Cycle Ingénieur",-1)])]),_:1}),a(e(o),{value:5},{default:s(()=>[...l[19]||(l[19]=[r("5th Year - Cycle Ingénieur",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(d,{message:e(t).errors.year},null,8,["message"])]),z.value?(f(),p("div",K,[a(e(m),{for:"specialization"},{default:s(()=>[...l[20]||(l[20]=[r("Specialization",-1)])]),_:1}),a(e(g),{modelValue:e(t).specialization,"onUpdate:modelValue":l[4]||(l[4]=n=>e(t).specialization=n),required:""},{default:s(()=>[a(e(y),null,{default:s(()=>[a(e(C),{placeholder:"Select specialization"})]),_:1}),a(e(b),null,{default:s(()=>[(f(),p($,null,c(I,n=>a(e(o),{key:n.value,value:n.value},{default:s(()=>[r(_(n.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),a(d,{message:e(t).errors.specialization},null,8,["message"])])):k("",!0),q.value?(f(),p("div",Q,[a(e(m),{for:"track"},{default:s(()=>[...l[21]||(l[21]=[r("Track (Génie Informatique Only)",-1)])]),_:1}),a(e(g),{modelValue:e(t).track,"onUpdate:modelValue":l[5]||(l[5]=n=>e(t).track=n),required:""},{default:s(()=>[a(e(y),null,{default:s(()=>[a(e(C),{placeholder:"Select track"})]),_:1}),a(e(b),null,{default:s(()=>[(f(),p($,null,c(S,n=>a(e(o),{key:n.value,value:n.value},{default:s(()=>[r(_(n.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),a(d,{message:e(t).errors.track},null,8,["message"])])):k("",!0),i("div",W,[a(e(G),{type:"submit",disabled:e(t).processing},{default:s(()=>[r(_(e(t).processing?"Creating...":"Create Student"),1)]),_:1},8,["disabled"]),a(e(G),{type:"button",variant:"outline",onClick:l[6]||(l[6]=n=>u.$inertia.visit(e(j).url()))},{default:s(()=>[...l[22]||(l[22]=[r(" Cancel ",-1)])]),_:1})])],32)]),_:1})]),_:1})])])]),_:1}))}});export{ye as default};
