import{d as j,c as r,w as e,a as s,b as u,e as t,h as C,f as n,i as c,o,F as w,k as S,t as d,j as p,r as x}from"./app-CPometxZ.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-Con15RXd.js";import{_ as N,a as b,b as V,c as h}from"./CardTitle.vue_vue_type_script_setup_true_lang-B6RDaEAy.js";import{_ as B}from"./CardDescription.vue_vue_type_script_setup_true_lang-CDLoamIJ.js";import{_ as $}from"./index--RngV4lN.js";import{_ as D}from"./index-DGvkOZwu.js";import{_ as J,a as A,b as v,c as f,d as L,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-M3rxcfYS.js";import{F as M}from"./file-up-TukXP24N.js";import{F as z}from"./users-D4iBQ59P.js";import"./index-D7U6bHka.js";import"./VisuallyHidden-CZSwHrLu.js";import"./useForwardExpose-BovC4Je4.js";import"./useForwardPropsEmits-CLk4KNd3.js";const T={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"font-medium"},I={class:"text-sm text-muted-foreground"},K={class:"flex justify-end gap-2"},q={key:1,class:"py-8 text-center text-muted-foreground"},at=j({__name:"Index",props:{absences:{}},setup(m){const g=l=>{if(!l)return"secondary";switch(l){case"approved":return"default";case"rejected":return"destructive";case"pending":return"outline";default:return"secondary"}},y=l=>l?l.charAt(0).toUpperCase()+l.slice(1):"No Justification";return(l,a)=>(o(),r(F,null,{default:e(()=>[s(t(C),{title:"My Justifications"}),u("div",T,[u("div",U,[s(t(N),null,{default:e(()=>[s(t(b),null,{default:e(()=>[s(t(V),null,{default:e(()=>[...a[0]||(a[0]=[n("My Absences & Justifications",-1)])]),_:1}),s(t(B),null,{default:e(()=>[...a[1]||(a[1]=[n("Submit justifications for your absences (max 5 files per absence)",-1)])]),_:1})]),_:1}),s(t(h),null,{default:e(()=>[m.absences.length>0?(o(),r(t(J),{key:0},{default:e(()=>[s(t(A),null,{default:e(()=>[s(t(v),null,{default:e(()=>[s(t(f),null,{default:e(()=>[...a[2]||(a[2]=[n("Date",-1)])]),_:1}),s(t(f),null,{default:e(()=>[...a[3]||(a[3]=[n("Module",-1)])]),_:1}),s(t(f),null,{default:e(()=>[...a[4]||(a[4]=[n("Status",-1)])]),_:1}),s(t(f),{class:"text-right"},{default:e(()=>[...a[5]||(a[5]=[n("Actions",-1)])]),_:1})]),_:1})]),_:1}),s(t(L),null,{default:e(()=>[(o(!0),c(w,null,S(m.absences,i=>(o(),r(t(v),{key:i.id},{default:e(()=>[s(t(_),null,{default:e(()=>[n(d(new Date(i.date).toLocaleString()),1)]),_:2},1024),s(t(_),null,{default:e(()=>[u("div",null,[u("div",E,d(i.module_code),1),u("div",I,d(i.module),1)])]),_:2},1024),s(t(_),null,{default:e(()=>[s(t(D),{variant:g(i.justification_status)},{default:e(()=>[n(d(y(i.justification_status)),1)]),_:2},1032,["variant"])]),_:2},1024),s(t(_),{class:"text-right"},{default:e(()=>[u("div",K,[i.has_justification?p("",!0):(o(),r(t($),{key:0,size:"sm",onClick:k=>t(x).visit(`/student/justifications/create/${i.id}`)},{default:e(()=>[s(t(M),{class:"h-4 w-4 mr-1"}),a[6]||(a[6]=n(" Submit Justification ",-1))]),_:1},8,["onClick"])),i.has_justification?(o(),r(t($),{key:1,size:"sm",variant:"outline",onClick:k=>t(x).visit(`/student/justifications/${i.justification_id}`)},{default:e(()=>[s(t(z),{class:"h-4 w-4 mr-1"}),a[7]||(a[7]=n(" View Details ",-1))]),_:1},8,["onClick"])):p("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(o(),c("div",q," No absences found. Keep up the good attendance! "))]),_:1})]),_:1})])])]),_:1}))}});export{at as default};
