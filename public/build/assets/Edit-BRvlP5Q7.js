import{d as M,u as w,q as $,c as G,w as a,a as l,b as n,e,h as U,f as o,g as C,i as u,j as p,o as d,t as m,F as E,k as T}from"./app-nvGH1Dkh.js";import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-CF_N0GbT.js";import{_ as V}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BHa87b-p.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-DZq79wqf.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-CEBsFGRU.js";import{_ as Y}from"./Textarea.vue_vue_type_script_setup_true_lang-CtlKS4zC.js";import{_ as y,a as x,b as c,c as k,d as i}from"./SelectValue.vue_vue_type_script_setup_true_lang-DxDdO8Aa.js";import{_ as B,a as N,b as D,c as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-DKVkS3YL.js";import{_ as F}from"./CardDescription.vue_vue_type_script_setup_true_lang-xu7KUm1i.js";import{i as z,u as O}from"./index-CvSfsCbe.js";import{A as P}from"./arrow-left-gy2vDfxD.js";import"./index-CQIPFYrP.js";import"./VisuallyHidden-DO_yOHYh.js";import"./useForwardExpose-uDNJ_ZAD.js";import"./useForwardPropsEmits-DiRTkQZX.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-B_NB_A8z.js";import"./check-oFSbS8GH.js";import"./useFormControl-_T6v6ghJ.js";const j={class:"container mx-auto max-w-2xl py-8"},L={class:"mb-6"},Q={class:"space-y-2"},H={key:0,class:"text-sm text-destructive"},J={class:"space-y-2"},K={key:0,class:"text-sm text-destructive"},W={class:"space-y-2"},X={key:0,class:"text-sm text-destructive"},Z={key:0,class:"space-y-2"},h={key:0,class:"text-sm text-destructive"},ee={key:1,class:"space-y-2"},te={key:0,class:"text-sm text-destructive"},le={class:"space-y-2"},ae={key:0,class:"text-sm text-destructive"},se={class:"space-y-2"},oe={key:0,class:"text-sm text-destructive"},re={class:"flex gap-4"},Se=M({__name:"Edit",props:{module:{},teachers:{}},setup(g){const f=g,s=w({name:f.module.name,code:f.module.code,description:f.module.description||"",year:f.module.year.toString(),specialization:f.module.specialization||"",track:f.module.track||"",teacher_id:f.module.teacher_id.toString()}),S=$(()=>{const _=parseInt(s.year);return _>=3&&_<=5}),q=$(()=>{const _=parseInt(s.year);return s.specialization==="GI"&&(_===4||_===5)}),I=()=>{s.put(O.url({module:f.module.id}))};return(_,t)=>(d(),G(A,null,{default:a(()=>[l(e(U),{title:"Edit Module"}),n("div",j,[n("div",L,[l(e(V),{variant:"ghost",onClick:t[0]||(t[0]=r=>_.$inertia.visit(e(z).url()))},{default:a(()=>[l(e(P),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=o(" Back to Modules ",-1))]),_:1})]),l(e(B),null,{default:a(()=>[l(e(N),null,{default:a(()=>[l(e(D),null,{default:a(()=>[...t[10]||(t[10]=[o("Edit Module",-1)])]),_:1}),l(e(F),null,{default:a(()=>[...t[11]||(t[11]=[o("Update module information",-1)])]),_:1})]),_:1}),l(e(R),null,{default:a(()=>[n("form",{onSubmit:C(I,["prevent"]),class:"space-y-6"},[n("div",Q,[l(e(v),{for:"name"},{default:a(()=>[...t[12]||(t[12]=[o("Module Name",-1)])]),_:1}),l(e(b),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":t[1]||(t[1]=r=>e(s).name=r),type:"text",required:"",placeholder:"e.g., Object Oriented Programming"},null,8,["modelValue"]),e(s).errors.name?(d(),u("span",H,m(e(s).errors.name),1)):p("",!0)]),n("div",J,[l(e(v),{for:"code"},{default:a(()=>[...t[13]||(t[13]=[o("Module Code",-1)])]),_:1}),l(e(b),{id:"code",modelValue:e(s).code,"onUpdate:modelValue":t[2]||(t[2]=r=>e(s).code=r),type:"text",required:"",placeholder:"e.g., CS101"},null,8,["modelValue"]),e(s).errors.code?(d(),u("span",K,m(e(s).errors.code),1)):p("",!0)]),n("div",W,[l(e(v),{for:"year"},{default:a(()=>[...t[14]||(t[14]=[o("Year",-1)])]),_:1}),l(e(y),{modelValue:e(s).year,"onUpdate:modelValue":t[3]||(t[3]=r=>e(s).year=r),required:""},{default:a(()=>[l(e(x),null,{default:a(()=>[l(e(c),{placeholder:"Select year"})]),_:1}),l(e(k),null,{default:a(()=>[l(e(i),{value:"1"},{default:a(()=>[...t[15]||(t[15]=[o("Year 1",-1)])]),_:1}),l(e(i),{value:"2"},{default:a(()=>[...t[16]||(t[16]=[o("Year 2",-1)])]),_:1}),l(e(i),{value:"3"},{default:a(()=>[...t[17]||(t[17]=[o("Year 3",-1)])]),_:1}),l(e(i),{value:"4"},{default:a(()=>[...t[18]||(t[18]=[o("Year 4",-1)])]),_:1}),l(e(i),{value:"5"},{default:a(()=>[...t[19]||(t[19]=[o("Year 5",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.year?(d(),u("span",X,m(e(s).errors.year),1)):p("",!0)]),S.value?(d(),u("div",Z,[l(e(v),{for:"specialization"},{default:a(()=>[...t[20]||(t[20]=[o("Specialization",-1)])]),_:1}),l(e(y),{modelValue:e(s).specialization,"onUpdate:modelValue":t[4]||(t[4]=r=>e(s).specialization=r),required:""},{default:a(()=>[l(e(x),null,{default:a(()=>[l(e(c),{placeholder:"Select specialization"})]),_:1}),l(e(k),null,{default:a(()=>[l(e(i),{value:"GI"},{default:a(()=>[...t[21]||(t[21]=[o("Génie Informatique",-1)])]),_:1}),l(e(i),{value:"GRT"},{default:a(()=>[...t[22]||(t[22]=[o("Génie des Réseaux et Télécommunications",-1)])]),_:1}),l(e(i),{value:"GInd"},{default:a(()=>[...t[23]||(t[23]=[o("Génie Industriel",-1)])]),_:1}),l(e(i),{value:"GM"},{default:a(()=>[...t[24]||(t[24]=[o("Génie Mécanique",-1)])]),_:1}),l(e(i),{value:"GA"},{default:a(()=>[...t[25]||(t[25]=[o("Génie de l'Eau et de l'Environnement",-1)])]),_:1}),l(e(i),{value:"GPM"},{default:a(()=>[...t[26]||(t[26]=[o("Génie des Procédés et Management de la Qualité",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.specialization?(d(),u("span",h,m(e(s).errors.specialization),1)):p("",!0),t[27]||(t[27]=n("p",{class:"text-xs text-muted-foreground"}," Required for years 3-5. This module will only be available for the selected specialization. ",-1))])):p("",!0),q.value?(d(),u("div",ee,[l(e(v),{for:"track"},{default:a(()=>[...t[28]||(t[28]=[o("Track (for GI)",-1)])]),_:1}),l(e(y),{modelValue:e(s).track,"onUpdate:modelValue":t[5]||(t[5]=r=>e(s).track=r),required:""},{default:a(()=>[l(e(x),null,{default:a(()=>[l(e(c),{placeholder:"Select track"})]),_:1}),l(e(k),null,{default:a(()=>[l(e(i),{value:"DEV"},{default:a(()=>[...t[29]||(t[29]=[o("Development",-1)])]),_:1}),l(e(i),{value:"AI"},{default:a(()=>[...t[30]||(t[30]=[o("Artificial Intelligence",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s).errors.track?(d(),u("span",te,m(e(s).errors.track),1)):p("",!0),t[31]||(t[31]=n("p",{class:"text-xs text-muted-foreground"}," Required for GI specialization in years 4-5. ",-1))])):p("",!0),n("div",le,[l(e(v),{for:"teacher_id"},{default:a(()=>[...t[32]||(t[32]=[o("Assign Teacher",-1)])]),_:1}),l(e(y),{modelValue:e(s).teacher_id,"onUpdate:modelValue":t[6]||(t[6]=r=>e(s).teacher_id=r),required:""},{default:a(()=>[l(e(x),null,{default:a(()=>[l(e(c),{placeholder:"Select teacher"})]),_:1}),l(e(k),null,{default:a(()=>[(d(!0),u(E,null,T(g.teachers,r=>(d(),G(e(i),{key:r.id,value:r.id.toString()},{default:a(()=>[o(m(r.name)+" ("+m(r.email)+") ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(s).errors.teacher_id?(d(),u("span",ae,m(e(s).errors.teacher_id),1)):p("",!0)]),n("div",se,[l(e(v),{for:"description"},{default:a(()=>[...t[33]||(t[33]=[o("Description (Optional)",-1)])]),_:1}),l(e(Y),{id:"description",modelValue:e(s).description,"onUpdate:modelValue":t[7]||(t[7]=r=>e(s).description=r),placeholder:"Enter module description",rows:"4"},null,8,["modelValue"]),e(s).errors.description?(d(),u("span",oe,m(e(s).errors.description),1)):p("",!0)]),n("div",re,[l(e(V),{type:"submit",disabled:e(s).processing},{default:a(()=>[o(m(e(s).processing?"Updating...":"Update Module"),1)]),_:1},8,["disabled"]),l(e(V),{type:"button",variant:"outline",onClick:t[8]||(t[8]=r=>_.$inertia.visit(e(z).url()))},{default:a(()=>[...t[34]||(t[34]=[o(" Cancel ",-1)])]),_:1})])],32)]),_:1})]),_:1})])]),_:1}))}});export{Se as default};
