import{d as b,m as w,c as p,w as e,a as s,b as u,e as t,h as y,f as l,i as v,o as r,F as k,k as F,t as d,r as $}from"./app-CfE9S6rP.js";import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-D6m1HoI-.js";import{_ as C,a as V,b as B,c as D}from"./CardTitle.vue_vue_type_script_setup_true_lang-CJFOXqjd.js";import{_ as N}from"./CardDescription.vue_vue_type_script_setup_true_lang-CBMZnw4S.js";import{_ as J}from"./index-BblMpro3.js";import{_ as L}from"./index-vBTXukzd.js";import{_ as R,a as M,b as x,c as i,d as T,e as o}from"./TableHeader.vue_vue_type_script_setup_true_lang-B6VnanDO.js";import{_ as U,a as j,b as z,c as E,d as m}from"./SelectValue.vue_vue_type_script_setup_true_lang-DcSK8F-s.js";import{F as I}from"./users-DDvhK44a.js";import"./index-BFz42vOe.js";import"./VisuallyHidden-CmL6nt4H.js";import"./useForwardExpose-BmRZXmdE.js";import"./useForwardPropsEmits-CVb6W0OG.js";import"./check-Cf6YYcKB.js";import"./useFormControl-qR-A9o-y.js";const P={class:"py-12"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},G={class:"flex items-center justify-between"},H={class:"w-48"},K={class:"font-medium"},O={class:"text-sm text-muted-foreground"},Q={class:"font-medium"},W={class:"text-sm text-muted-foreground"},X={key:1,class:"py-8 text-center text-muted-foreground"},pt=b({__name:"Index",props:{justifications:{},currentStatus:{}},setup(_){const c=w(_.currentStatus),g=f=>{switch(f){case"approved":return"default";case"rejected":return"destructive";case"pending":return"outline";default:return"secondary"}},S=f=>{$.visit(`/admin/justifications?status=${f}`,{preserveState:!0,preserveScroll:!0})};return(f,a)=>(r(),p(A,null,{default:e(()=>[s(t(y),{title:"Justifications Management"}),u("div",P,[u("div",q,[s(t(C),null,{default:e(()=>[s(t(V),null,{default:e(()=>[u("div",G,[u("div",null,[s(t(B),null,{default:e(()=>[...a[1]||(a[1]=[l("Absence Justifications",-1)])]),_:1}),s(t(N),null,{default:e(()=>[...a[2]||(a[2]=[l("Review and manage student absence justifications",-1)])]),_:1})]),u("div",H,[s(t(U),{modelValue:c.value,"onUpdate:modelValue":[a[0]||(a[0]=n=>c.value=n),S]},{default:e(()=>[s(t(j),null,{default:e(()=>[s(t(z),{placeholder:"Filter by status"})]),_:1}),s(t(E),null,{default:e(()=>[s(t(m),{value:"all"},{default:e(()=>[...a[3]||(a[3]=[l("All Justifications",-1)])]),_:1}),s(t(m),{value:"pending"},{default:e(()=>[...a[4]||(a[4]=[l("Pending",-1)])]),_:1}),s(t(m),{value:"approved"},{default:e(()=>[...a[5]||(a[5]=[l("Approved",-1)])]),_:1}),s(t(m),{value:"rejected"},{default:e(()=>[...a[6]||(a[6]=[l("Rejected",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),s(t(D),null,{default:e(()=>[_.justifications.data.length>0?(r(),p(t(R),{key:0},{default:e(()=>[s(t(M),null,{default:e(()=>[s(t(x),null,{default:e(()=>[s(t(i),null,{default:e(()=>[...a[7]||(a[7]=[l("Student",-1)])]),_:1}),s(t(i),null,{default:e(()=>[...a[8]||(a[8]=[l("Module",-1)])]),_:1}),s(t(i),null,{default:e(()=>[...a[9]||(a[9]=[l("Absence Date",-1)])]),_:1}),s(t(i),null,{default:e(()=>[...a[10]||(a[10]=[l("Submitted",-1)])]),_:1}),s(t(i),null,{default:e(()=>[...a[11]||(a[11]=[l("Files",-1)])]),_:1}),s(t(i),null,{default:e(()=>[...a[12]||(a[12]=[l("Status",-1)])]),_:1}),s(t(i),{class:"text-right"},{default:e(()=>[...a[13]||(a[13]=[l("Actions",-1)])]),_:1})]),_:1})]),_:1}),s(t(T),null,{default:e(()=>[(r(!0),v(k,null,F(_.justifications.data,n=>(r(),p(t(x),{key:n.id},{default:e(()=>[s(t(o),null,{default:e(()=>[u("div",null,[u("div",K,d(n.student_name),1),u("div",O,d(n.student_email),1)])]),_:2},1024),s(t(o),null,{default:e(()=>[u("div",null,[u("div",Q,d(n.attendance.module_code),1),u("div",W,d(n.attendance.module),1)])]),_:2},1024),s(t(o),null,{default:e(()=>[l(d(new Date(n.attendance.date).toLocaleString()),1)]),_:2},1024),s(t(o),null,{default:e(()=>[l(d(new Date(n.created_at).toLocaleDateString()),1)]),_:2},1024),s(t(o),null,{default:e(()=>[l(d(n.file_count),1)]),_:2},1024),s(t(o),null,{default:e(()=>[s(t(L),{variant:g(n.status)},{default:e(()=>[l(d(n.status.charAt(0).toUpperCase()+n.status.slice(1)),1)]),_:2},1032,["variant"])]),_:2},1024),s(t(o),{class:"text-right"},{default:e(()=>[s(t(J),{size:"sm",variant:"outline",onClick:Z=>t($).visit(`/admin/justifications/${n.id}`)},{default:e(()=>[s(t(I),{class:"h-4 w-4 mr-1"}),a[14]||(a[14]=l(" Review ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(r(),v("div",X," No justifications found "))]),_:1})]),_:1})])])]),_:1}))}});export{pt as default};
