import{d as A,u as P,q as C,s as b,c as Y,w as t,a,b as n,e,h as E,f as i,g as N,i as p,j as x,o as m,F as V,k,t as _}from"./app-CQScspJV.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-H8USLuKZ.js";import{_ as $}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CWTvO1CT.js";import{_ as D,a as T,b as U,c as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-C8JhjThn.js";import{_ as F}from"./CardDescription.vue_vue_type_script_setup_true_lang-BoDmBqrY.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-CicpqTIb.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-J_y2c9_X.js";import{_ as v,a as g,b as y,c,d as o}from"./SelectValue.vue_vue_type_script_setup_true_lang--ddNUqrt.js";import{_ as R,a as j}from"./index-BqN0SRT-.js";import{_ as f}from"./InputError.vue_vue_type_script_setup_true_lang-7OOebd1A.js";import{i as L,s as O}from"./index-DIPtfPPN.js";import"./index-3yuum4Sn.js";import"./VisuallyHidden-gVgl18LK.js";import"./useForwardExpose-Vv3P2laI.js";import"./useForwardPropsEmits-DnKx72kq.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-DNvKDgj3.js";import"./check-B6qghZgb.js";import"./useFormControl-DCuIHI-Z.js";const H={class:"py-12"},J={class:"max-w-3xl mx-auto sm:px-6 lg:px-8 space-y-6"},K={key:0},Q={key:1},W={class:"flex gap-4"},ye=A({__name:"Create",setup(X){const s=P({name:"",email:"",year:null,specialization:null,track:null}),I=[{value:"GI",label:"Génie Informatique"},{value:"GRT",label:"Génie Réseaux & Télécommunications"},{value:"GInd",label:"Génie Industriel"},{value:"GM",label:"Génie Mécatronique"},{value:"GA",label:"Génie Aéronautique"},{value:"GPM",label:"Génie Procédés & Matériaux"}],S=[{value:"DEV",label:"Software Development"},{value:"AI",label:"AI & Data Engineering"}],z=C(()=>s.year&&s.year>=3),q=C(()=>s.specialization==="GI"&&s.year&&s.year>=4);b(()=>s.year,u=>{u&&u<3&&(s.specialization=null,s.track=null)}),b(()=>s.specialization,u=>{u!=="GI"&&(s.track=null)});const w=()=>{s.post(O.url(),{onSuccess:()=>{s.reset()}})};return(u,l)=>(m(),Y(M,null,{default:t(()=>[a(e(E),{title:"Create Student"}),n("div",H,[n("div",J,[l[21]||(l[21]=n("div",null,[n("h2",{class:"text-2xl font-semibold text-gray-900"},"Add New Student"),n("p",{class:"mt-1 text-sm text-gray-600"}," Create a student account. Password will be auto-generated and sent via email. ")],-1)),a(e(R),null,{default:t(()=>[a(e(j),null,{default:t(()=>[...l[6]||(l[6]=[n("strong",null,"ENSA Safi Structure:",-1),n("ul",{class:"list-disc list-inside mt-2 space-y-1"},[n("li",null,[n("strong",null,"CP1 & CP2 (Years 1-2):"),i(" Common core, no specialization")]),n("li",null,[n("strong",null,"Years 3-5:"),i(" Choose specialization (Cycle Ingénieur)")]),n("li",null,[n("strong",null,"Years 4-5 (GI only):"),i(" Choose track (Dev or AI)")])],-1)])]),_:1})]),_:1}),a(e(D),null,{default:t(()=>[a(e(T),null,{default:t(()=>[a(e(U),null,{default:t(()=>[...l[7]||(l[7]=[i("Student Information",-1)])]),_:1}),a(e(F),null,{default:t(()=>[...l[8]||(l[8]=[i("Enter student details and academic information",-1)])]),_:1})]),_:1}),a(e(B),null,{default:t(()=>[n("form",{onSubmit:N(w,["prevent"]),class:"space-y-6"},[n("div",null,[a(e(d),{for:"name"},{default:t(()=>[...l[9]||(l[9]=[i("Full Name",-1)])]),_:1}),a(e(G),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":l[0]||(l[0]=r=>e(s).name=r),type:"text",required:"",placeholder:"e.g., Ahmed El Mansouri"},null,8,["modelValue"]),a(f,{message:e(s).errors.name},null,8,["message"])]),n("div",null,[a(e(d),{for:"email"},{default:t(()=>[...l[10]||(l[10]=[i("Email Address",-1)])]),_:1}),a(e(G),{id:"email",modelValue:e(s).email,"onUpdate:modelValue":l[1]||(l[1]=r=>e(s).email=r),type:"email",required:"",placeholder:"e.g., ahmed.elmansouri@uca.ac.ma"},null,8,["modelValue"]),a(f,{message:e(s).errors.email},null,8,["message"]),l[11]||(l[11]=n("p",{class:"text-xs text-gray-500 mt-1"}," Password will be auto-generated and sent to this email ",-1))]),n("div",null,[a(e(d),{for:"year"},{default:t(()=>[...l[12]||(l[12]=[i("Academic Year",-1)])]),_:1}),a(e(v),{modelValue:e(s).year,"onUpdate:modelValue":l[2]||(l[2]=r=>e(s).year=r),required:""},{default:t(()=>[a(e(g),null,{default:t(()=>[a(e(y),{placeholder:"Select year"})]),_:1}),a(e(c),null,{default:t(()=>[a(e(o),{value:1},{default:t(()=>[...l[13]||(l[13]=[i("CP1 (1st Year - Common Core)",-1)])]),_:1}),a(e(o),{value:2},{default:t(()=>[...l[14]||(l[14]=[i("CP2 (2nd Year - Common Core)",-1)])]),_:1}),a(e(o),{value:3},{default:t(()=>[...l[15]||(l[15]=[i("3rd Year - Cycle Ingénieur",-1)])]),_:1}),a(e(o),{value:4},{default:t(()=>[...l[16]||(l[16]=[i("4th Year - Cycle Ingénieur",-1)])]),_:1}),a(e(o),{value:5},{default:t(()=>[...l[17]||(l[17]=[i("5th Year - Cycle Ingénieur",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(f,{message:e(s).errors.year},null,8,["message"])]),z.value?(m(),p("div",K,[a(e(d),{for:"specialization"},{default:t(()=>[...l[18]||(l[18]=[i("Specialization",-1)])]),_:1}),a(e(v),{modelValue:e(s).specialization,"onUpdate:modelValue":l[3]||(l[3]=r=>e(s).specialization=r),required:""},{default:t(()=>[a(e(g),null,{default:t(()=>[a(e(y),{placeholder:"Select specialization"})]),_:1}),a(e(c),null,{default:t(()=>[(m(),p(V,null,k(I,r=>a(e(o),{key:r.value,value:r.value},{default:t(()=>[i(_(r.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),a(f,{message:e(s).errors.specialization},null,8,["message"])])):x("",!0),q.value?(m(),p("div",Q,[a(e(d),{for:"track"},{default:t(()=>[...l[19]||(l[19]=[i("Track (Génie Informatique Only)",-1)])]),_:1}),a(e(v),{modelValue:e(s).track,"onUpdate:modelValue":l[4]||(l[4]=r=>e(s).track=r),required:""},{default:t(()=>[a(e(g),null,{default:t(()=>[a(e(y),{placeholder:"Select track"})]),_:1}),a(e(c),null,{default:t(()=>[(m(),p(V,null,k(S,r=>a(e(o),{key:r.value,value:r.value},{default:t(()=>[i(_(r.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),a(f,{message:e(s).errors.track},null,8,["message"])])):x("",!0),n("div",W,[a(e($),{type:"submit",disabled:e(s).processing},{default:t(()=>[i(_(e(s).processing?"Creating...":"Create Student"),1)]),_:1},8,["disabled"]),a(e($),{type:"button",variant:"outline",onClick:l[5]||(l[5]=r=>u.$inertia.visit(e(L).url()))},{default:t(()=>[...l[20]||(l[20]=[i(" Cancel ",-1)])]),_:1})])],32)]),_:1})]),_:1})])])]),_:1}))}});export{ye as default};
